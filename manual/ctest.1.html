<!DOCTYPE html>

<html lang="zh-CN" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>ctest(1) &mdash; CMake 3.29.1-g21d0c57 Documentation</title>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a2c47e09" />
    <link rel="stylesheet" type="text/css" href="../_static/cmake.css?v=3e562cf9" />
    
    <script src="../_static/documentation_options.js?v=17f7ec5f"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    
    <link rel="icon" href="../_static/cmake-favicon.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="cpack(1)" href="cpack.1.html" />
    <link rel="prev" title="cmake(1)" href="cmake.1.html" />
 

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="cpack.1.html" title="cpack(1)"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="cmake.1.html" title="cmake(1)"
             accesskey="P">上一页</a> |</li>
  <li>
    <img src="../_static/cmake-logo-16.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="https://cmake.org/">CMake</a> &#187;
  </li>
  <li>
    <a href="../index.html">3.29.1-g21d0c57 Documentation</a> &#187;
  </li>

        <li class="nav-item nav-item-this"><a href="">ctest(1)</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="manual:ctest(1)"></span><section id="ctest-1">
<h1><a class="toc-backref" href="#id28" role="doc-backlink">ctest(1)</a><a class="headerlink" href="#ctest-1" title="Link to this heading">¶</a></h1>
<nav class="contents" id="id1">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-1" id="id28">ctest(1)</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id29">简介</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id30">描述</a></p></li>
<li><p><a class="reference internal" href="#run-tests" id="id31">运行测试</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id32">查看帮助</a></p></li>
<li><p><a class="reference internal" href="#label-matching" id="id33">标签匹配</a></p></li>
<li><p><a class="reference internal" href="#label-and-subproject-summary" id="id34">标签和子项目摘要</a></p></li>
<li><p><a class="reference internal" href="#build-and-test-mode" id="id35">构建和测试模式</a></p></li>
<li><p><a class="reference internal" href="#dashboard-client" id="id36">仪表板客户端</a></p>
<ul>
<li><p><a class="reference internal" href="#id10" id="id37">仪表板客户端步骤</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id38">仪表板客户端模式</a></p></li>
<li><p><a class="reference internal" href="#ctest" id="id39">通过CTest命令行运行仪表板客户端</a></p></li>
<li><p><a class="reference internal" href="#ctest-script" id="id40">通过CTest脚本运行仪表板客户端</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id13" id="id41">仪表板客户端配置</a></p>
<ul>
<li><p><a class="reference internal" href="#ctest-start-step" id="id42">CTest开始步骤</a></p></li>
<li><p><a class="reference internal" href="#ctest-update-step" id="id43">CTest更新步骤</a></p></li>
<li><p><a class="reference internal" href="#ctest-configure-step" id="id44">CTest配置步骤</a></p></li>
<li><p><a class="reference internal" href="#ctest-build-step" id="id45">CTest构建步骤</a></p></li>
<li><p><a class="reference internal" href="#ctest-test-step" id="id46">CTest测试步骤</a></p></li>
<li><p><a class="reference internal" href="#ctest-coverage-step" id="id47">CTest覆盖步骤</a></p></li>
<li><p><a class="reference internal" href="#ctest-memcheck-step" id="id48">CTest内存测试步骤</a></p></li>
<li><p><a class="reference internal" href="#ctest-submit-step" id="id49">CTest提交步骤</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#json" id="id50">显示为JSON对象模型</a></p></li>
<li><p><a class="reference internal" href="#ctest-resource-allocation" id="id51">资源分配</a></p>
<ul>
<li><p><a class="reference internal" href="#ctest-resource-specification-file" id="id52">资源规格文件</a></p></li>
<li><p><a class="reference internal" href="#resource-groups" id="id53"><code class="docutils literal notranslate"><span class="pre">RESOURCE_GROUPS</span></code>属性</a></p></li>
<li><p><a class="reference internal" href="#ctest-resource-environment-variables" id="id54">环境变量</a></p></li>
<li><p><a class="reference internal" href="#ctest-resource-dynamically-generated-spec-file" id="id55">动态生成的资源规范文件</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#ctest-job-server-integration" id="id56">作业服务器集成</a></p></li>
<li><p><a class="reference internal" href="#id27" id="id57">另请参阅</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="id2">
<h2><a class="toc-backref" href="#id29" role="doc-backlink">简介</a><a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<pre class="literal-block"><a class="reference internal" href="#id4">运行测试</a>
 ctest [&lt;options&gt;] [--test-dir &lt;path-to-build&gt;]

<a class="reference internal" href="#build-and-test-mode">Build and Test Mode</a>
 ctest --build-and-test &lt;path-to-source&gt; &lt;path-to-build&gt;
       --build-generator &lt;generator&gt; [&lt;options&gt;...]
      [--build-options &lt;opts&gt;...]
      [--test-command &lt;command&gt; [&lt;args&gt;...]]

<a class="reference internal" href="#dashboard-client">Dashboard Client</a>
 ctest -D &lt;dashboard&gt;         [-- &lt;dashboard-options&gt;...]
 ctest -M &lt;model&gt; -T &lt;action&gt; [-- &lt;dashboard-options&gt;...]
 ctest -S &lt;script&gt;            [-- &lt;dashboard-options&gt;...]
 ctest -SP &lt;script&gt;           [-- &lt;dashboard-options&gt;...]

<a class="reference internal" href="#id5">查看帮助</a>
 ctest --help[-&lt;topic&gt;]</pre>
</section>
<section id="id3">
<h2><a class="toc-backref" href="#id30" role="doc-backlink">描述</a><a class="headerlink" href="#id3" title="Link to this heading">¶</a></h2>
<p><strong class="program">ctest</strong>可执行文件是CMake测试驱动程序。为使用<span class="target" id="index-0-command:enable_testing"></span><a class="reference internal" href="../command/enable_testing.html#command:enable_testing" title="enable_testing"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">enable_testing()</span></code></a>和<span class="target" id="index-0-command:add_test"></span><a class="reference internal" href="../command/add_test.html#command:add_test" title="add_test"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">add_test()</span></code></a>命令的项目创建的CMake生成的构建树具有测试支持。此程序将运行测试并报告结果。</p>
</section>
<section id="run-tests">
<span id="id4"></span><h2><a class="toc-backref" href="#id31" role="doc-backlink">运行测试</a><a class="headerlink" href="#run-tests" title="Link to this heading">¶</a></h2>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-preset">
<span id="cmdoption-ctest-preset"></span><span class="sig-name descname"><span class="pre">--preset</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;preset&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--preset</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;preset&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-preset" title="Link to this definition">¶</a></dt>
<dd><p>使用测试预设来指定测试选项。项目二进制目录是从<code class="docutils literal notranslate"><span class="pre">configurePreset</span></code>键推断出来的。当前工作目录必须包含CMake预置文件。有关更多详细信息，请参阅<span class="target" id="index-0-manual:cmake-presets(7)"></span><a class="reference internal" href="cmake-presets.7.html#manual:cmake-presets(7)" title="cmake-presets(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">preset</span></code></a>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-list-presets">
<span class="sig-name descname"><span class="pre">--list-presets</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-list-presets" title="Link to this definition">¶</a></dt>
<dd><p>列出可用的测试预设。当前工作目录必须包含CMake预置文件。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-C">
<span id="cmdoption-ctest-build-config"></span><span class="sig-name descname"><span class="pre">-C</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;cfg&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--build-config</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;cfg&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-C" title="Link to this definition">¶</a></dt>
<dd><p>选择要测试的配置。</p>
<p>一些CMake生成的构建树可以在同一树中有多个构建配置。此选项可用于指定应该测试哪一个。示例配置是<code class="docutils literal notranslate"><span class="pre">Debug</span></code>和<code class="docutils literal notranslate"><span class="pre">Release</span></code>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-progress">
<span class="sig-name descname"><span class="pre">--progress</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-progress" title="Link to this definition">¶</a></dt>
<dd><p>启用测试的短进度输出。</p>
<p>当<strong class="program">ctest</strong>的输出直接发送到终端时，通过更新同一行来报告测试集的进度，而不是在新行上为每个测试打印开始和结束消息。这可以显著减少测试输出的冗长性。对于失败的测试，测试完成消息仍将在其单独的行上输出，并且仍将记录最终的测试摘要。</p>
<p>这个选项也可以通过设置环境变量<span class="target" id="index-0-envvar:CTEST_PROGRESS_OUTPUT"></span><a class="reference internal" href="../envvar/CTEST_PROGRESS_OUTPUT.html#envvar:CTEST_PROGRESS_OUTPUT" title="CTEST_PROGRESS_OUTPUT"><code class="xref cmake cmake-envvar docutils literal notranslate"><span class="pre">CTEST_PROGRESS_OUTPUT</span></code></a>来启用。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-V">
<span id="cmdoption-ctest-verbose"></span><span class="sig-name descname"><span class="pre">-V</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--verbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-V" title="Link to this definition">¶</a></dt>
<dd><p>启用测试的详细输出。</p>
<p>测试输出通常被抑制，只显示摘要信息。此选项将显示所有测试输出。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-VV">
<span id="cmdoption-ctest-extra-verbose"></span><span class="sig-name descname"><span class="pre">-VV</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--extra-verbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-VV" title="Link to this definition">¶</a></dt>
<dd><p>从测试中启用更详细的输出。</p>
<p>测试输出通常被抑制，只显示摘要信息。这个选项将显示更多的测试输出。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-debug">
<span class="sig-name descname"><span class="pre">--debug</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-debug" title="Link to this definition">¶</a></dt>
<dd><p>显示CTest的更详细的内部信息。</p>
<p>该特性将产生大量输出，这些输出对调试仪表板问题非常有用。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-output-on-failure">
<span class="sig-name descname"><span class="pre">--output-on-failure</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-output-on-failure" title="Link to this definition">¶</a></dt>
<dd><p>如果测试失败，输出测试程序输出的任何内容。这个选项也可以通过设置<span class="target" id="index-0-envvar:CTEST_OUTPUT_ON_FAILURE"></span><a class="reference internal" href="../envvar/CTEST_OUTPUT_ON_FAILURE.html#envvar:CTEST_OUTPUT_ON_FAILURE" title="CTEST_OUTPUT_ON_FAILURE"><code class="xref cmake cmake-envvar docutils literal notranslate"><span class="pre">CTEST_OUTPUT_ON_FAILURE</span></code></a>环境变量来启用。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-stop-on-failure">
<span class="sig-name descname"><span class="pre">--stop-on-failure</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-stop-on-failure" title="Link to this definition">¶</a></dt>
<dd><p>当出现第一个故障时，停止运行测试。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-F">
<span class="sig-name descname"><span class="pre">-F</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-F" title="Link to this definition">¶</a></dt>
<dd><p>支持故障转移。</p>
<p>此选项允许CTest恢复先前中断的测试集执行。如果没有中断发生，<code class="docutils literal notranslate"><span class="pre">-F</span></code>选项将不起作用。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-j">
<span id="cmdoption-ctest-parallel"></span><span class="sig-name descname"><span class="pre">-j</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;level&gt;]</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--parallel</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;level&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-j" title="Link to this definition">¶</a></dt>
<dd><p>并行运行测试，可选地限制在给定的并行度级别。</p>
<div class="versionadded">
<p><span class="versionmodified added">在 3.29 版本加入: </span><code class="docutils literal notranslate"><span class="pre">&lt;level&gt;</span></code>可以省略或为<code class="docutils literal notranslate"><span class="pre">0</span></code>，在这种情况下：</p>
<ul class="simple">
<li><p>在<a class="reference internal" href="#id26">作业服务器集成</a>下，并行性受到可用作业令牌的限制。</p></li>
<li><p>否则，如果省略该值，则并行性限制为处理器数量，或者为2，以较大者为准。</p></li>
<li><p>否则，如果该值为<code class="docutils literal notranslate"><span class="pre">0</span></code>，则并行度不受限制。</p></li>
</ul>
</div>
<p>这个选项可以由<span class="target" id="index-0-envvar:CTEST_PARALLEL_LEVEL"></span><a class="reference internal" href="../envvar/CTEST_PARALLEL_LEVEL.html#envvar:CTEST_PARALLEL_LEVEL" title="CTEST_PARALLEL_LEVEL"><code class="xref cmake cmake-envvar docutils literal notranslate"><span class="pre">CTEST_PARALLEL_LEVEL</span></code></a>环境变量指定。</p>
<p>这个选项可以与<span class="target" id="index-0-prop_test:PROCESSORS"></span><a class="reference internal" href="../prop_test/PROCESSORS.html#prop_test:PROCESSORS" title="PROCESSORS"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">PROCESSORS</span></code></a>测试属性一起使用。请查看<a class="reference internal" href="#id7">标签和子项目摘要</a>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-resource-spec-file">
<span class="sig-name descname"><span class="pre">--resource-spec-file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;file&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-resource-spec-file" title="Link to this definition">¶</a></dt>
<dd><p>使用<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>中指定的<a class="reference internal" href="#ctest-resource-specification-file"><span class="std std-ref">资源规范文件</span></a>，在启用<a class="reference internal" href="#ctest-resource-allocation"><span class="std std-ref">资源分配</span></a>的情况下运行CTest。</p>
<p>当<strong class="program">ctest</strong>作为<a class="reference internal" href="#id9">仪表板客户端</a>运行时，这将设置<a class="reference internal" href="#id18">CTest测试步骤</a>的<code class="docutils literal notranslate"><span class="pre">ResourceSpecFile</span></code>选项。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-test-load">
<span class="sig-name descname"><span class="pre">--test-load</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;level&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-test-load" title="Link to this definition">¶</a></dt>
<dd><p>在并行运行测试时（例如使用<a class="reference internal" href="#cmdoption-ctest-j"><code class="xref std std-option docutils literal notranslate"><span class="pre">-j</span></code></a>），当测试可能导致CPU负载超过给定阈值时，尽量不要启动测试。</p>
<p>当<strong class="program">ctest</strong>作为<a class="reference internal" href="#id9">仪表板客户端</a>运行时，这将设置<a class="reference internal" href="#id18">CTest测试步骤</a>的<code class="docutils literal notranslate"><span class="pre">TestLoad</span></code>选项。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-Q">
<span id="cmdoption-ctest-quiet"></span><span class="sig-name descname"><span class="pre">-Q</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--quiet</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-Q" title="Link to this definition">¶</a></dt>
<dd><p>让CTest保持安静。</p>
<p>此选项将抑制所有输出。如果指定了<a class="reference internal" href="#cmdoption-ctest-O"><code class="xref std std-option docutils literal notranslate"><span class="pre">--output-log</span></code></a>，仍然会生成输出日志文件。如果指定了<code class="docutils literal notranslate"><span class="pre">--quiet</span></code>，那么<a class="reference internal" href="#cmdoption-ctest-V"><code class="xref std std-option docutils literal notranslate"><span class="pre">--verbose</span></code></a>、<a class="reference internal" href="#cmdoption-ctest-VV"><code class="xref std std-option docutils literal notranslate"><span class="pre">--extra-verbose</span></code></a>和<a class="reference internal" href="#cmdoption-ctest-debug"><code class="xref std std-option docutils literal notranslate"><span class="pre">--debug</span></code></a>等选项将被忽略。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-O">
<span id="cmdoption-ctest-output-log"></span><span class="sig-name descname"><span class="pre">-O</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;file&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--output-log</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;file&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-O" title="Link to this definition">¶</a></dt>
<dd><p>输出到日志文件。</p>
<p>该选项告诉CTest将其所有输出写入<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>日志文件。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-output-junit">
<span class="sig-name descname"><span class="pre">--output-junit</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;file&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-output-junit" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">在 3.21 版本加入.</span></p>
</div>
<p>以JUnit格式编写测试结果。</p>
<p>这个选项告诉CTest将测试结果写入<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>在JUnit XML格式。如果<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>已经存在，它将被覆盖。如果使用<a class="reference internal" href="#cmdoption-ctest-S"><code class="xref std std-option docutils literal notranslate"><span class="pre">-S</span></code></a>选项运行仪表板脚本，则使用<code class="docutils literal notranslate"><span class="pre">OUTPUT_JUNIT</span></code>关键字和<span class="target" id="index-0-command:ctest_test"></span><a class="reference internal" href="../command/ctest_test.html#command:ctest_test" title="ctest_test"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_test()</span></code></a>命令代替。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-N">
<span id="cmdoption-ctest-show-only"></span><span class="sig-name descname"><span class="pre">-N</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--show-only</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;format&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-N" title="Link to this definition">¶</a></dt>
<dd><p>禁用测试的实际执行。</p>
<p>这个选项告诉CTest列出将要运行但没有实际运行的测试。与<a class="reference internal" href="#cmdoption-ctest-R"><code class="xref std std-option docutils literal notranslate"><span class="pre">-R</span></code></a>和<a class="reference internal" href="#cmdoption-ctest-E"><code class="xref std std-option docutils literal notranslate"><span class="pre">-E</span></code></a>选项一起使用。</p>
<div class="versionadded">
<p><span class="versionmodified added">在 3.14 版本加入: </span><code class="docutils literal notranslate"><span class="pre">--show-only</span></code>选项接受<code class="docutils literal notranslate"><span class="pre">&lt;format&gt;</span></code>值。</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;format&gt;</span></code>可以是以下值之一。</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">human</span></code></dt><dd><p>人性化的输出。这不能保证是稳定的。这是默认值。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">json-v1</span></code></dt><dd><p>以JSON格式转储测试信息。参见显示为<a class="reference internal" href="#json">显示为JSON对象模型</a>。</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-L">
<span id="cmdoption-ctest-label-regex"></span><span class="sig-name descname"><span class="pre">-L</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--label-regex</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-L" title="Link to this definition">¶</a></dt>
<dd><p>运行与<a class="reference internal" href="../command/string.html#regex-specification"><span class="std std-ref">string(REGEX)</span></a>下描述的正则表达式匹配的标签的测试。</p>
<p>此选项告诉CTest只运行标签与给定正则表达式匹配的测试。当给出多个<code class="docutils literal notranslate"><span class="pre">-L</span></code>选项时，只有当每个正则表达式匹配至少一个测试的标签（即多个<code class="docutils literal notranslate"><span class="pre">-L</span></code>标签形成一个<code class="docutils literal notranslate"><span class="pre">AND</span></code>关系）时，才会运行测试。参见<a class="reference internal" href="#id6">标签匹配</a>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-R">
<span id="cmdoption-ctest-tests-regex"></span><span class="sig-name descname"><span class="pre">-R</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--tests-regex</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-R" title="Link to this definition">¶</a></dt>
<dd><p>运行匹配正则表达式的测试。</p>
<p>此选项告诉CTest只运行名称与给定正则表达式匹配的测试。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-E">
<span id="cmdoption-ctest-exclude-regex"></span><span class="sig-name descname"><span class="pre">-E</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--exclude-regex</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-E" title="Link to this definition">¶</a></dt>
<dd><p>排除匹配正则表达式的测试。</p>
<p>此选项告诉CTest<strong>不</strong>运行名称与给定正则表达式匹配的测试。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-LE">
<span id="cmdoption-ctest-label-exclude"></span><span class="sig-name descname"><span class="pre">-LE</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--label-exclude</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-LE" title="Link to this definition">¶</a></dt>
<dd><p>排除标签与正则表达式匹配的测试。</p>
<p>此选项告诉CTest<strong>不</strong>运行标签与给定正则表达式匹配的测试。当给出多个<code class="docutils literal notranslate"><span class="pre">-LE</span></code>选项时，只有当每个正则表达式匹配至少一个测试的标签（即多个<code class="docutils literal notranslate"><span class="pre">-LE</span></code>标签形成一个<code class="docutils literal notranslate"><span class="pre">AND</span></code>关系）时，才会排除测试。参考<a class="reference internal" href="#id6">标签匹配</a>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-tests-from-file">
<span class="sig-name descname"><span class="pre">--tests-from-file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;filename&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-tests-from-file" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">在 3.29 版本加入.</span></p>
</div>
<p>运行给定文件中列出的测试。</p>
<p>此选项告诉CTest运行给定文件中列出的测试。该文件每行必须包含一个确切的测试名称。不完全匹配任何测试名称的行将被忽略。此选项可以与<code class="docutils literal notranslate"><span class="pre">-R</span></code>、<code class="docutils literal notranslate"><span class="pre">-E</span></code>、<code class="docutils literal notranslate"><span class="pre">-L</span></code>或<code class="docutils literal notranslate"><span class="pre">-LE</span></code>等其他选项组合使用。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-exclude-from-file">
<span class="sig-name descname"><span class="pre">--exclude-from-file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;filename&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-exclude-from-file" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">在 3.29 版本加入.</span></p>
</div>
<p>排除给定文件中列出的测试。</p>
<p>这个选项告诉CTest<strong>不</strong>运行给定文件中列出的测试。该文件每行必须包含一个确切的测试名称。不完全匹配任何测试名称的行将被忽略。此选项可以与<code class="docutils literal notranslate"><span class="pre">-R</span></code>、<code class="docutils literal notranslate"><span class="pre">-E</span></code>、<code class="docutils literal notranslate"><span class="pre">-L</span></code>或<code class="docutils literal notranslate"><span class="pre">-LE</span></code>等其他选项组合使用。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-FA">
<span id="cmdoption-ctest-fixture-exclude-any"></span><span class="sig-name descname"><span class="pre">-FA</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--fixture-exclude-any</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-FA" title="Link to this definition">¶</a></dt>
<dd><p>排除与<code class="docutils literal notranslate"><span class="pre">&lt;regex&gt;</span></code>匹配的fixture自动向测试集中添加任何测试。</p>
<p>如果要执行的测试集中的一个测试需要一个特定的fixture，那么该fixture的设置和清理测试通常会自动添加到测试集中。此选项可防止为匹配<code class="docutils literal notranslate"><span class="pre">&lt;regex&gt;</span></code>的fixture添加安装或清理测试。注意，保留所有其他fixture行为，包括测试依赖项和跳过fixture设置测试失败的测试。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-FS">
<span id="cmdoption-ctest-fixture-exclude-setup"></span><span class="sig-name descname"><span class="pre">-FS</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--fixture-exclude-setup</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-FS" title="Link to this definition">¶</a></dt>
<dd><p>与<a class="reference internal" href="#cmdoption-ctest-FA"><code class="xref std std-option docutils literal notranslate"><span class="pre">-FA</span></code></a>相同，但只排除匹配的设置测试。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-FC">
<span id="cmdoption-ctest-fixture-exclude-cleanup"></span><span class="sig-name descname"><span class="pre">-FC</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--fixture-exclude-cleanup</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regex&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-FC" title="Link to this definition">¶</a></dt>
<dd><p>与<a class="reference internal" href="#cmdoption-ctest-FA"><code class="xref std std-option docutils literal notranslate"><span class="pre">-FA</span></code></a>相同，但只排除匹配的清理测试。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-I">
<span id="cmdoption-ctest-tests-information"></span><span class="sig-name descname"><span class="pre">-I</span></span><span class="sig-prename descclassname"> <span class="pre">[Start,End,Stride,test#,test#|Test</span> <span class="pre">file]</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--tests-information</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-I" title="Link to this definition">¶</a></dt>
<dd><p>按编号运行特定数量的测试。</p>
<p>此选项使CTest运行从编号<code class="docutils literal notranslate"><span class="pre">Start</span></code>开始，以编号<code class="docutils literal notranslate"><span class="pre">End</span></code>结束并按<code class="docutils literal notranslate"><span class="pre">Stride</span></code>递增的测试。<code class="docutils literal notranslate"><span class="pre">Stride</span></code>之后的任何附加数字都被视为单独的测试数字。<code class="docutils literal notranslate"><span class="pre">Start</span></code>、<code class="docutils literal notranslate"><span class="pre">End</span></code>和<code class="docutils literal notranslate"><span class="pre">Stride</span></code>可以为空。可以选择一个包含与命令行相同语法的文件。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-U">
<span id="cmdoption-ctest-union"></span><span class="sig-name descname"><span class="pre">-U</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--union</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-U" title="Link to this definition">¶</a></dt>
<dd><p>取<a class="reference internal" href="#cmdoption-ctest-I"><code class="xref std std-option docutils literal notranslate"><span class="pre">-I</span></code></a>和<a class="reference internal" href="#cmdoption-ctest-R"><code class="xref std std-option docutils literal notranslate"><span class="pre">-R</span></code></a>的并集。</p>
<p>默认情况下，同时指定<a class="reference internal" href="#cmdoption-ctest-R"><code class="xref std std-option docutils literal notranslate"><span class="pre">-R</span></code></a>和<a class="reference internal" href="#cmdoption-ctest-I"><code class="xref std std-option docutils literal notranslate"><span class="pre">-I</span></code></a>时，将运行测试交集。通过指定<code class="docutils literal notranslate"><span class="pre">-U</span></code>，将运行测试的并集。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-rerun-failed">
<span class="sig-name descname"><span class="pre">--rerun-failed</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-rerun-failed" title="Link to this definition">¶</a></dt>
<dd><p>只运行先前失败的测试。</p>
<p>此选项告诉CTest只执行在上次运行期间失败的测试。指定此选项后，CTest将忽略用于修改要运行的测试列表的所有其他选项（<a class="reference internal" href="#cmdoption-ctest-L"><code class="xref std std-option docutils literal notranslate"><span class="pre">-L</span></code></a>、<a class="reference internal" href="#cmdoption-ctest-R"><code class="xref std std-option docutils literal notranslate"><span class="pre">-R</span></code></a>、<a class="reference internal" href="#cmdoption-ctest-E"><code class="xref std std-option docutils literal notranslate"><span class="pre">-E</span></code></a>、<a class="reference internal" href="#cmdoption-ctest-LE"><code class="xref std std-option docutils literal notranslate"><span class="pre">-LE</span></code></a>、<a class="reference internal" href="#cmdoption-ctest-I"><code class="xref std std-option docutils literal notranslate"><span class="pre">-I</span></code></a>等）。如果CTest运行并且没有测试失败，则使用<code class="docutils literal notranslate"><span class="pre">--rerun-failed</span></code>选项对CTest的后续调用将运行最近失败的测试集（如果有的话）。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-repeat">
<span class="sig-name descname"><span class="pre">--repeat</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;mode&gt;:&lt;n&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-repeat" title="Link to this definition">¶</a></dt>
<dd><p>根据给定的<code class="docutils literal notranslate"><span class="pre">&lt;mode&gt;</span></code>重复运行测试，最多可运行<code class="docutils literal notranslate"><span class="pre">&lt;n&gt;</span></code>次。模式有：</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">until-fail</span></code></dt><dd><p>要求每个测试运行<code class="docutils literal notranslate"><span class="pre">&lt;n&gt;</span></code>次而不失败才能通过。这对于发现测试用例中的零星故障很有用。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">until-pass</span></code></dt><dd><p>允许每个测试最多运行<code class="docutils literal notranslate"><span class="pre">&lt;n&gt;</span></code>次才能通过。如果测试因任何原因失败，则重复测试。这对于容忍测试用例中的零星故障是很有用的。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">after-timeout</span></code></dt><dd><p>允许每个测试最多运行<code class="docutils literal notranslate"><span class="pre">&lt;n&gt;</span></code>次才能通过。只有当测试超时时才重复测试。这对于在繁忙的机器上容忍测试用例中的零星超时非常有用。</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-repeat-until-fail">
<span class="sig-name descname"><span class="pre">--repeat-until-fail</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;n&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-repeat-until-fail" title="Link to this definition">¶</a></dt>
<dd><p>相当于<a class="reference internal" href="#cmdoption-ctest-repeat"><code class="xref std std-option docutils literal notranslate"><span class="pre">--repeat</span> <span class="pre">until-fail:&lt;n&gt;</span></code></a>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-max-width">
<span class="sig-name descname"><span class="pre">--max-width</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;width&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-max-width" title="Link to this definition">¶</a></dt>
<dd><p>设置测试名称输出的最大宽度。</p>
<p>设置要在输出中显示的每个测试名称的最大宽度。这允许用户扩大输出，以避免剪切测试名称，这可能是非常烦人的。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-interactive-debug-mode">
<span class="sig-name descname"><span class="pre">--interactive-debug-mode</span></span><span class="sig-prename descclassname"> <span class="pre">[0|1]</span></span><a class="headerlink" href="#cmdoption-ctest-interactive-debug-mode" title="Link to this definition">¶</a></dt>
<dd><p>设置交互模式为<code class="docutils literal notranslate"><span class="pre">0</span></code>或<code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p>此选项可使CTest以交互模式或非交互模式运行测试。在仪表板模式下（<code class="docutils literal notranslate"><span class="pre">Experimental</span></code>、<code class="docutils literal notranslate"><span class="pre">Nightly</span></code>、<code class="docutils literal notranslate"><span class="pre">Continuous</span></code>），默认为非交互式。在非交互模式下，设置环境变量<span class="target" id="index-0-envvar:DASHBOARD_TEST_FROM_CTEST"></span><a class="reference internal" href="../envvar/DASHBOARD_TEST_FROM_CTEST.html#envvar:DASHBOARD_TEST_FROM_CTEST" title="DASHBOARD_TEST_FROM_CTEST"><code class="xref cmake cmake-envvar docutils literal notranslate"><span class="pre">DASHBOARD_TEST_FROM_CTEST</span></code></a>。</p>
<p>在CMake 3.11之前，Windows上的交互模式允许出现系统调试弹出窗口。现在，由于CTest使用<code class="docutils literal notranslate"><span class="pre">libuv</span></code>来启动测试进程，所有系统调试弹出窗口总是被禁止。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-no-label-summary">
<span class="sig-name descname"><span class="pre">--no-label-summary</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-no-label-summary" title="Link to this definition">¶</a></dt>
<dd><p>禁用标签的定时汇总信息。</p>
<p>此选项告诉CTest不要打印与测试运行相关联的每个标签的摘要信息。如果测试上没有标签，就不会打印任何额外的内容。</p>
<p>请参阅<a class="reference internal" href="#id7">标签和子项目摘要</a>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-no-subproject-summary">
<span class="sig-name descname"><span class="pre">--no-subproject-summary</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-no-subproject-summary" title="Link to this definition">¶</a></dt>
<dd><p>禁用子项目的定时摘要信息。</p>
<p>此选项告诉CTest不要打印与测试运行相关联的每个子项目的摘要信息。如果测试中没有子项目，则不会打印额外的内容。</p>
<p>请参阅<a class="reference internal" href="#id7">标签和子项目摘要</a>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-test-dir">
<span class="sig-name descname"><span class="pre">--test-dir</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;dir&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-test-dir" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">在 3.20 版本加入.</span></p>
</div>
<p>指定要查找测试的目录，通常是CMake项目构建目录。如果未指定，则使用当前目录。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-test-output-size-passed">
<span class="sig-name descname"><span class="pre">--test-output-size-passed</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;size&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-test-output-size-passed" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">在 3.4 版本加入.</span></p>
</div>
<p>将通过的测试的输出限制为<code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code>字节。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-test-output-size-failed">
<span class="sig-name descname"><span class="pre">--test-output-size-failed</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;size&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-test-output-size-failed" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">在 3.4 版本加入.</span></p>
</div>
<p>将失败测试的输出限制为<code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code>字节。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-test-output-truncation">
<span class="sig-name descname"><span class="pre">--test-output-truncation</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;mode&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-test-output-truncation" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">在 3.24 版本加入.</span></p>
</div>
<p>一旦达到最大输出大小，截断测试输出的<code class="docutils literal notranslate"><span class="pre">tail</span></code>（默认）、<code class="docutils literal notranslate"><span class="pre">middle</span></code>或<code class="docutils literal notranslate"><span class="pre">head</span></code>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-overwrite">
<span class="sig-name descname"><span class="pre">--overwrite</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-overwrite" title="Link to this definition">¶</a></dt>
<dd><p>覆盖CTest配置选项。</p>
<p>默认情况下，CTest使用配置文件中的配置选项。此选项将覆盖配置选项。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-force-new-ctest-process">
<span class="sig-name descname"><span class="pre">--force-new-ctest-process</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-force-new-ctest-process" title="Link to this definition">¶</a></dt>
<dd><p>将子CTest实例作为新进程运行。</p>
<p>默认情况下，CTest将在同一进程中运行子CTest实例。如果不需要这种行为，这个参数将为子CTest进程强制新的进程。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-schedule-random">
<span class="sig-name descname"><span class="pre">--schedule-random</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-schedule-random" title="Link to this definition">¶</a></dt>
<dd><p>使用随机顺序安排测试。</p>
<p>此选项将以随机顺序运行测试。它通常用于检测测试套件中的隐式依赖关系。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-submit-index">
<span class="sig-name descname"><span class="pre">--submit-index</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-submit-index" title="Link to this definition">¶</a></dt>
<dd><p>旧的Dart2仪表板服务器功能的遗留选项。请勿使用。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-timeout">
<span class="sig-name descname"><span class="pre">--timeout</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;seconds&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-timeout" title="Link to this definition">¶</a></dt>
<dd><p>设置默认测试超时时间。</p>
<p>此选项有效地为尚未通过<span class="target" id="index-0-prop_test:TIMEOUT"></span><a class="reference internal" href="../prop_test/TIMEOUT.html#prop_test:TIMEOUT" title="TIMEOUT"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">TIMEOUT</span></code></a>属性对其设置超时的所有测试设置超时。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-stop-time">
<span class="sig-name descname"><span class="pre">--stop-time</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;time&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-stop-time" title="Link to this definition">¶</a></dt>
<dd><p>设置所有测试应停止运行的时间。</p>
<p>设置一天中所有测试应该超时的实际时间。例如<code class="docutils literal notranslate"><span class="pre">7:00:00</span> <span class="pre">-0400</span></code>。可以接受curl日期解析器理解的任何时间格式。如果没有指定时区，则假定为本地时间。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-print-labels">
<span class="sig-name descname"><span class="pre">--print-labels</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-print-labels" title="Link to this definition">¶</a></dt>
<dd><p>打印所有可用的测试标签。</p>
<p>此选项不会运行任何测试，它只会打印与测试集关联的所有标签的列表。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-no-tests">
<span class="sig-name descname"><span class="pre">--no-tests</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;action&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-no-tests" title="Link to this definition">¶</a></dt>
<dd><p>将未发现的测试视为错误（当<code class="docutils literal notranslate"><span class="pre">&lt;action&gt;</span></code>设置为<code class="docutils literal notranslate"><span class="pre">error</span></code>时）或忽略它（当<code class="docutils literal notranslate"><span class="pre">&lt;action&gt;</span></code>设置为<code class="docutils literal notranslate"><span class="pre">ignore</span></code>时）。</p>
<p>如果未找到任何测试，CTest的默认行为是始终记录错误消息，但仅在脚本模式下返回错误代码。该选项通过在没有找到测试时返回错误代码或忽略它来统一CTest的行为。</p>
<div class="versionadded">
<p><span class="versionmodified added">在 3.26 版本加入.</span></p>
</div>
<p>这个选项也可以通过设置<span class="target" id="index-0-envvar:CTEST_NO_TESTS_ACTION"></span><a class="reference internal" href="../envvar/CTEST_NO_TESTS_ACTION.html#envvar:CTEST_NO_TESTS_ACTION" title="CTEST_NO_TESTS_ACTION"><code class="xref cmake cmake-envvar docutils literal notranslate"><span class="pre">CTEST_NO_TESTS_ACTION</span></code></a>环境变量来设置。</p>
</dd></dl>

</section>
<section id="id5">
<h2><a class="toc-backref" href="#id32" role="doc-backlink">查看帮助</a><a class="headerlink" href="#id5" title="Link to this heading">¶</a></h2>
<p>要打印版本详细信息或从CMake文档中选择的页面，使用以下选项之一：</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-version">
<span id="cmdoption-ctest-version"></span><span id="cmdoption-ctest-0"></span><span class="sig-name descname"><span class="pre">-version</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">/V</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-version" title="Link to this definition">¶</a></dt>
<dd><p>显示程序名称/版本横幅并退出。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-h">
<span id="cmdoption-ctest-H"></span><span id="cmdoption-ctest-help"></span><span id="cmdoption-ctest-help"></span><span id="cmdoption-ctest-usage"></span><span id="cmdoption-ctest-1"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-H</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-help</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-usage</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">/?</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-h" title="Link to this definition">¶</a></dt>
<dd><p>打印使用信息并退出。</p>
<p>用例描述了基本的命令行接口及其选项。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-2">
<span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;keyword&gt;</span> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-2" title="Link to this definition">¶</a></dt>
<dd><p>打印一个CMake关键字的帮助。</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;keyword&gt;</span></code>可以是属性、变量、命令、策略、生成器或模块。</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;keyword&gt;</span></code>以人类可读的文本格式打印。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.28 版本发生变更: </span>在CMake 3.28之前，这个选项只支持命令名。</p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-full">
<span class="sig-name descname"><span class="pre">--help-full</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-full" title="Link to this definition">¶</a></dt>
<dd><p>打印所有帮助手册并退出。</p>
<p>所有手册皆以可读的文本格式打印。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-manual">
<span class="sig-name descname"><span class="pre">--help-manual</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;man&gt;</span> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-manual" title="Link to this definition">¶</a></dt>
<dd><p>打印一份帮助手册并退出。</p>
<p>以可读的文本格式打印指定的手册。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-manual-list">
<span class="sig-name descname"><span class="pre">--help-manual-list</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-manual-list" title="Link to this definition">¶</a></dt>
<dd><p>列出可用的帮助手册并退出。</p>
<p>该列表包含所有可以通过使用<code class="docutils literal notranslate"><span class="pre">--help-manual</span></code>选项及手册名称参数获得帮助的手册。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-command">
<span class="sig-name descname"><span class="pre">--help-command</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;cmd&gt;</span> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-command" title="Link to this definition">¶</a></dt>
<dd><p>打印一个命令的帮助并退出。</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;cmd&gt;</span></code>的<span class="target" id="index-0-manual:cmake-commands(7)"></span><a class="reference internal" href="cmake-commands.7.html#manual:cmake-commands(7)" title="cmake-commands(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-commands(7)</span></code></a>手册条目以可读的文本格式打印。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-command-list">
<span class="sig-name descname"><span class="pre">--help-command-list</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-command-list" title="Link to this definition">¶</a></dt>
<dd><p>列出具有可用帮助的命令并退出。</p>
<p>该列表包含所有可以通过使用<code class="docutils literal notranslate"><span class="pre">--help-command</span></code>选项后接命令名获得帮助的命令。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-commands">
<span class="sig-name descname"><span class="pre">--help-commands</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-commands" title="Link to this definition">¶</a></dt>
<dd><p>打印cmake-commands手册并退出。</p>
<p><span class="target" id="index-1-manual:cmake-commands(7)"></span><a class="reference internal" href="cmake-commands.7.html#manual:cmake-commands(7)" title="cmake-commands(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-commands(7)</span></code></a>手册以可读的文本格式打印。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-module">
<span class="sig-name descname"><span class="pre">--help-module</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;mod&gt;</span> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-module" title="Link to this definition">¶</a></dt>
<dd><p>打印一个模块的帮助并退出。</p>
<p>以可读的文本格式打印<span class="target" id="index-0-manual:cmake-modules(7)"></span><a class="reference internal" href="cmake-modules.7.html#manual:cmake-modules(7)" title="cmake-modules(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-modules(7)</span></code></a>手册的<code class="docutils literal notranslate"><span class="pre">&lt;mod&gt;</span></code>条目。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-module-list">
<span class="sig-name descname"><span class="pre">--help-module-list</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-module-list" title="Link to this definition">¶</a></dt>
<dd><p>列出有可用帮助的模块并退出。</p>
<p>该列表包含了所有可以通过使用<code class="docutils literal notranslate"><span class="pre">--help-module</span></code>选项后接模块名获得帮助的模块。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-modules">
<span class="sig-name descname"><span class="pre">--help-modules</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-modules" title="Link to this definition">¶</a></dt>
<dd><p>打印cmake-modules手册并退出。</p>
<p><span class="target" id="index-1-manual:cmake-modules(7)"></span><a class="reference internal" href="cmake-modules.7.html#manual:cmake-modules(7)" title="cmake-modules(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-modules(7)</span></code></a>手册以可读的文本格式打印。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-policy">
<span class="sig-name descname"><span class="pre">--help-policy</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;cmp&gt;</span> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-policy" title="Link to this definition">¶</a></dt>
<dd><p>打印一个策略的帮助并退出。</p>
<p>以可读的文本格式打印<span class="target" id="index-0-manual:cmake-policies(7)"></span><a class="reference internal" href="cmake-policies.7.html#manual:cmake-policies(7)" title="cmake-policies(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-policies(7)</span></code></a>手册的<code class="docutils literal notranslate"><span class="pre">&lt;cmp&gt;</span></code>条目。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-policy-list">
<span class="sig-name descname"><span class="pre">--help-policy-list</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-policy-list" title="Link to this definition">¶</a></dt>
<dd><p>列出具有可用帮助的策略并退出。</p>
<p>该列表包含所有可以通过使用<code class="docutils literal notranslate"><span class="pre">--help-policy</span></code>选项后接策略名获得帮助的策略。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-policies">
<span class="sig-name descname"><span class="pre">--help-policies</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-policies" title="Link to this definition">¶</a></dt>
<dd><p>打印cmake-policies手册并退出。</p>
<p><span class="target" id="index-1-manual:cmake-policies(7)"></span><a class="reference internal" href="cmake-policies.7.html#manual:cmake-policies(7)" title="cmake-policies(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-policies(7)</span></code></a>手册以可读的文本格式打印。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-property">
<span class="sig-name descname"><span class="pre">--help-property</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;prop&gt;</span> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-property" title="Link to this definition">¶</a></dt>
<dd><p>打印一个属性的帮助并退出。</p>
<p>以可读的文本格式打印<span class="target" id="index-0-manual:cmake-properties(7)"></span><a class="reference internal" href="cmake-properties.7.html#manual:cmake-properties(7)" title="cmake-properties(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-properties(7)</span></code></a>手册的<code class="docutils literal notranslate"><span class="pre">&lt;prop&gt;</span></code>条目。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-property-list">
<span class="sig-name descname"><span class="pre">--help-property-list</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-property-list" title="Link to this definition">¶</a></dt>
<dd><p>列出可用帮助的属性并退出。</p>
<p>该列表包含可以通过使用<code class="docutils literal notranslate"><span class="pre">--help-property</span></code>选项后接属性名获得帮助的所有属性。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-properties">
<span class="sig-name descname"><span class="pre">--help-properties</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-properties" title="Link to this definition">¶</a></dt>
<dd><p>打印cmake-properties手册并退出。</p>
<p><span class="target" id="index-1-manual:cmake-properties(7)"></span><a class="reference internal" href="cmake-properties.7.html#manual:cmake-properties(7)" title="cmake-properties(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-properties(7)</span></code></a>手册以可读的文本格式打印。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-variable">
<span class="sig-name descname"><span class="pre">--help-variable</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;var&gt;</span> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-variable" title="Link to this definition">¶</a></dt>
<dd><p>打印一个变量的帮助并退出。</p>
<p>以可读的文本格式打印<span class="target" id="index-0-manual:cmake-variables(7)"></span><a class="reference internal" href="cmake-variables.7.html#manual:cmake-variables(7)" title="cmake-variables(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-variables(7)</span></code></a>手册的<code class="docutils literal notranslate"><span class="pre">&lt;var&gt;</span></code>条目。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-variable-list">
<span class="sig-name descname"><span class="pre">--help-variable-list</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-variable-list" title="Link to this definition">¶</a></dt>
<dd><p>列出可用帮助的变量并退出。</p>
<p>该列表包含所有可以通过使用<code class="docutils literal notranslate"><span class="pre">--help-variable</span></code>选项后接变量名获得帮助的变量。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-help-variables">
<span class="sig-name descname"><span class="pre">--help-variables</span></span><span class="sig-prename descclassname"> <span class="pre">[&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-help-variables" title="Link to this definition">¶</a></dt>
<dd><p>打印cmake-variables手册并退出。</p>
<p>以可读的文本格式打印<span class="target" id="index-1-manual:cmake-variables(7)"></span><a class="reference internal" href="cmake-variables.7.html#manual:cmake-variables(7)" title="cmake-variables(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-variables(7)</span></code></a>手册。
如果给定，输出将打印到名为<code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code>的文件中。</p>
</dd></dl>

</section>
<section id="label-matching">
<span id="id6"></span><h2><a class="toc-backref" href="#id33" role="doc-backlink">标签匹配</a><a class="headerlink" href="#label-matching" title="Link to this heading">¶</a></h2>
<p>测试可能附有标签。通过筛选标签，可以将测试包括在测试运行中，也可以将测试排除在测试运行中。每个单独的过滤器都是一个正则表达式，应用于附加到测试的标签。</p>
<p>当使用<a class="reference internal" href="#cmdoption-ctest-L"><code class="xref std std-option docutils literal notranslate"><span class="pre">-L</span></code></a>时，为了将测试包含在测试运行中，每个正则表达式必须匹配至少一个标签。使用多个<a class="reference internal" href="#cmdoption-ctest-L"><code class="xref std std-option docutils literal notranslate"><span class="pre">-L</span></code></a>选项意味着“匹配<strong>所有</strong>这些”。</p>
<p><a class="reference internal" href="#cmdoption-ctest-LE"><code class="xref std std-option docutils literal notranslate"><span class="pre">-LE</span></code></a>选项的工作原理与<a class="reference internal" href="#cmdoption-ctest-L"><code class="xref std std-option docutils literal notranslate"><span class="pre">-L</span></code></a>类似，但它排除测试而不是包括测试。如果每个正则表达式匹配至少一个标签，则排除测试。</p>
<p>如果一个测试没有附加标签，那么<a class="reference internal" href="#cmdoption-ctest-L"><code class="xref std std-option docutils literal notranslate"><span class="pre">-L</span></code></a>将永远不会包括该测试，并且<a class="reference internal" href="#cmdoption-ctest-LE"><code class="xref std std-option docutils literal notranslate"><span class="pre">-LE</span></code></a>将永远不会排除该测试。以带标签的测试为例，考虑五个测试，它们带有以下标签：</p>
<ul class="simple">
<li><p><em>test1</em>有<em>tuesday</em>和<em>production</em>标签</p></li>
<li><p><em>test2</em>有<em>tuesday</em>和<em>test</em>标签</p></li>
<li><p><em>test3</em>有<em>wednesday</em>和<em>production</em>标签</p></li>
<li><p><em>test4</em>有<em>wednesday</em>的标签</p></li>
<li><p><em>test5</em>有标签<em>friday</em>和<em>test</em></p></li>
</ul>
<p>用<code class="docutils literal notranslate"><span class="pre">-L</span> <span class="pre">tuesday</span> <span class="pre">-L</span> <span class="pre">test</span></code>命令运行<strong class="program">ctest</strong>，将选择<em>test2</em>，它有两个标签。使用<code class="docutils literal notranslate"><span class="pre">-L</span> <span class="pre">test</span></code>运行CTest将选择<em>test2</em>和<em>test5</em>，因为它们都有一个与正则表达式匹配的标签。</p>
<p>因为匹配使用正则表达式，所以请注意，使用<code class="docutils literal notranslate"><span class="pre">-L</span> <span class="pre">es</span></code>运行CTest将匹配所有五个测试。若要同时选择<em>tuesday</em>和<em>wednesday</em>测试，请使用匹配其中一个的单个正则表达式，如<code class="docutils literal notranslate"><span class="pre">-L</span> <span class="pre">&quot;tue|wed&quot;</span></code>。</p>
</section>
<section id="label-and-subproject-summary">
<span id="id7"></span><h2><a class="toc-backref" href="#id34" role="doc-backlink">标签和子项目摘要</a><a class="headerlink" href="#label-and-subproject-summary" title="Link to this heading">¶</a></h2>
<p>CTest打印与测试运行相关联的每个<code class="docutils literal notranslate"><span class="pre">LABEL</span></code>和子项目的计时摘要信息。标签时间摘要将不包括映射到子项目的标签。</p>
<div class="versionadded">
<p><span class="versionmodified added">在 3.22 版本加入: </span>在测试执行期间动态添加的标签也会在计时摘要中报告。请参阅<a class="reference internal" href="../command/ctest_test.html#additional-labels"><span class="std std-ref">Additional Labels</span></a>。</p>
</div>
<p>当设置了 <span class="target" id="index-1-prop_test:PROCESSORS"></span><a class="reference internal" href="../prop_test/PROCESSORS.html#prop_test:PROCESSORS" title="PROCESSORS"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">PROCESSORS</span></code></a> 测试属性时，CTest将在标签和子项目摘要中显示加权测试计时结果。时间是用<cite>sec*proc</cite>报告的，而不仅仅是<cite>sec</cite>。</p>
<p>每个标签或子项目<code class="docutils literal notranslate"><span class="pre">j</span></code>报告的加权时间汇总计算为：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Weighted Time Summary for Label/Subproject j =
    sum(raw_test_time[j,i] * num_processors[j,i], i=1...num_tests[j])

for labels/subprojects j=1...total
</pre></div>
</div>
<p>其中：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">raw_test_time[j,i]</span></code>： <code class="docutils literal notranslate"><span class="pre">j</span></code>标签或子项目的<code class="docutils literal notranslate"><span class="pre">i</span></code>测试的时钟时间</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_processors[j,i]</span></code>： 用于<code class="docutils literal notranslate"><span class="pre">j</span></code>标签或子项目的<code class="docutils literal notranslate"><span class="pre">i</span></code>测试的CTest<span class="target" id="index-2-prop_test:PROCESSORS"></span><a class="reference internal" href="../prop_test/PROCESSORS.html#prop_test:PROCESSORS" title="PROCESSORS"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">PROCESSORS</span></code></a>属性的值</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_tests[j]</span></code>： 与<code class="docutils literal notranslate"><span class="pre">j</span></code>标签或子项目关联的测试数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">total</span></code>： 至少有一个测试运行的标签或子项目的总数</p></li>
</ul>
<p>因此，每个标签或子项目的加权时间摘要表示CTest为每个标签或子项目运行测试所花费的时间量，并很好地表示了与其他标签或子项目相比，每个标签或子项目的测试总费用。</p>
<p>例如，如果<code class="docutils literal notranslate"><span class="pre">SubprojectA</span></code>显示<code class="docutils literal notranslate"><span class="pre">100</span> <span class="pre">sec*proc</span></code>，而<code class="docutils literal notranslate"><span class="pre">SubprojectB</span></code>显示<code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">sec*proc</span></code>，那么CTest分配大约10倍的CPU/核心时间来运行<code class="docutils literal notranslate"><span class="pre">SubprojectA</span></code>的测试，而不是<code class="docutils literal notranslate"><span class="pre">SubprojectB</span></code>的测试（例如，如果要花费精力来减少整个项目测试套件的成本，那么减少<code class="docutils literal notranslate"><span class="pre">SubprojectA</span></code>测试套件的成本可能会比减少<code class="docutils literal notranslate"><span class="pre">SubprojectB</span></code>测试套件的成本产生更大的影响）。</p>
</section>
<section id="build-and-test-mode">
<span id="id8"></span><h2><a class="toc-backref" href="#id35" role="doc-backlink">构建和测试模式</a><a class="headerlink" href="#build-and-test-mode" title="Link to this heading">¶</a></h2>
<p>CTest提供了一个命令行签名来配置（即运行cmake）、构建和/或执行测试：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ctest --build-and-test &lt;path-to-source&gt; &lt;path-to-build&gt;
      --build-generator &lt;generator&gt;
      [&lt;options&gt;...]
      [--build-options &lt;opts&gt;...]
      [--test-command &lt;command&gt; [&lt;args&gt;...]]
</pre></div>
</div>
<p>配置和测试步骤是可选的。该命令行的参数是源目录和二进制目录。<em>必须</em>提供<code class="docutils literal notranslate"><span class="pre">--build-generator</span></code>选项才能使用<code class="docutils literal notranslate"><span class="pre">--build-and-test</span></code>。如果指定了<code class="docutils literal notranslate"><span class="pre">--test-command</span></code>，那么它将在构建完成后运行。影响此模式的其他选项包括：</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-and-test">
<span class="sig-name descname"><span class="pre">--build-and-test</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-and-test" title="Link to this definition">¶</a></dt>
<dd><p>切换到构建和测试模式。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-target">
<span class="sig-name descname"><span class="pre">--build-target</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-target" title="Link to this definition">¶</a></dt>
<dd><p>指定要构建的特定目标。可以使用不同的目标多次给出该选项，在这种情况下，依次构建每个目标。除非给出了<a class="reference internal" href="#cmdoption-ctest-build-noclean"><code class="xref std std-option docutils literal notranslate"><span class="pre">--build-noclean</span></code></a>选项，否则将在构建每个目标之前执行一次清理。</p>
<p>如果不指定<code class="docutils literal notranslate"><span class="pre">--build-target</span></code>，则构建<code class="docutils literal notranslate"><span class="pre">all</span></code>目标。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-nocmake">
<span class="sig-name descname"><span class="pre">--build-nocmake</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-nocmake" title="Link to this definition">¶</a></dt>
<dd><p>运行构建，但不要先运行cmake。</p>
<p>跳过cmake步骤。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-run-dir">
<span class="sig-name descname"><span class="pre">--build-run-dir</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-run-dir" title="Link to this definition">¶</a></dt>
<dd><p>指定要运行程序的目录。</p>
<p>编译后程序所在的目录。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-two-config">
<span class="sig-name descname"><span class="pre">--build-two-config</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-two-config" title="Link to this definition">¶</a></dt>
<dd><p>运行两次CMake。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-exe-dir">
<span class="sig-name descname"><span class="pre">--build-exe-dir</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-exe-dir" title="Link to this definition">¶</a></dt>
<dd><p>指定可执行文件的目录。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-generator">
<span class="sig-name descname"><span class="pre">--build-generator</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-generator" title="Link to this definition">¶</a></dt>
<dd><p>指定要使用的生成器。请参阅<span class="target" id="index-0-manual:cmake-generators(7)"></span><a class="reference internal" href="cmake-generators.7.html#manual:cmake-generators(7)" title="cmake-generators(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-generators(7)</span></code></a>手册。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-generator-platform">
<span class="sig-name descname"><span class="pre">--build-generator-platform</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-generator-platform" title="Link to this definition">¶</a></dt>
<dd><p>指定特定于生成器的平台。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-generator-toolset">
<span class="sig-name descname"><span class="pre">--build-generator-toolset</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-generator-toolset" title="Link to this definition">¶</a></dt>
<dd><p>指定特定于生成器的工具集。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-project">
<span class="sig-name descname"><span class="pre">--build-project</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-project" title="Link to this definition">¶</a></dt>
<dd><p>指定要生成的项目的名称。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-makeprogram">
<span class="sig-name descname"><span class="pre">--build-makeprogram</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-makeprogram" title="Link to this definition">¶</a></dt>
<dd><p>指定CMake在配置和构建项目时使用的显式make程序。仅适用于基于Make和Ninja的生成器。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-noclean">
<span class="sig-name descname"><span class="pre">--build-noclean</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-noclean" title="Link to this definition">¶</a></dt>
<dd><p>跳过清理步骤。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-config-sample">
<span class="sig-name descname"><span class="pre">--build-config-sample</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-config-sample" title="Link to this definition">¶</a></dt>
<dd><p>用于确定应该使用的配置的示例可执行文件。例如<code class="docutils literal notranslate"><span class="pre">Debug</span></code>、<code class="docutils literal notranslate"><span class="pre">Release</span></code>等。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-build-options">
<span class="sig-name descname"><span class="pre">--build-options</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-build-options" title="Link to this definition">¶</a></dt>
<dd><p>配置构建的附加选项（即CMake，而不是构建工具）。注意，如果指定了这个选项，<code class="docutils literal notranslate"><span class="pre">--build-options</span></code>关键字及其参数必须是命令行上给出的最后一个选项，可能的例外是<code class="docutils literal notranslate"><span class="pre">--test-command</span></code>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-test-command">
<span class="sig-name descname"><span class="pre">--test-command</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-test-command" title="Link to this definition">¶</a></dt>
<dd><p>使用<a class="reference internal" href="#cmdoption-ctest-build-and-test"><code class="xref std std-option docutils literal notranslate"><span class="pre">--build-and-test</span></code></a>选项作为测试步骤运行的命令。这个关键字后面的所有参数都被认为是test命令行的一部分，所以它必须是给出的最后一个选项。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-test-timeout">
<span class="sig-name descname"><span class="pre">--test-timeout</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-test-timeout" title="Link to this definition">¶</a></dt>
<dd><p>以秒为单位的时间限制</p>
</dd></dl>

</section>
<section id="dashboard-client">
<span id="id9"></span><h2><a class="toc-backref" href="#id36" role="doc-backlink">仪表板客户端</a><a class="headerlink" href="#dashboard-client" title="Link to this heading">¶</a></h2>
<p>CTest可以作为<a class="reference external" href="https://www.cdash.org">CDash</a>软件质量指示板应用程序的客户端操作。作为仪表板客户机，CTest执行一系列步骤来配置、构建和测试软件，然后将结果提交给CDash服务器。提交到<a class="reference external" href="https://www.cdash.org">CDash</a>的命令行签名是：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ctest -D &lt;dashboard&gt;         [-- &lt;dashboard-options&gt;...]
ctest -M &lt;model&gt; -T &lt;action&gt; [-- &lt;dashboard-options&gt;...]
ctest -S &lt;script&gt;            [-- &lt;dashboard-options&gt;...]
ctest -SP &lt;script&gt;           [-- &lt;dashboard-options&gt;...]
</pre></div>
</div>
<p>仪表板客户端的选项包括：</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-D">
<span id="cmdoption-ctest-dashboard"></span><span class="sig-name descname"><span class="pre">-D</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;dashboard&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--dashboard</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;dashboard&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-D" title="Link to this definition">¶</a></dt>
<dd><p>执行仪表板测试。</p>
<p>这个选项告诉CTest充当一个CDash客户端并执行一个指示板测试。所有测试都是<code class="docutils literal notranslate"><span class="pre">&lt;Mode&gt;&lt;Test&gt;</span></code>，其中<code class="docutils literal notranslate"><span class="pre">&lt;Mode&gt;</span></code>可以是<code class="docutils literal notranslate"><span class="pre">Experimental</span></code>、<code class="docutils literal notranslate"><span class="pre">Nightly</span></code>和<code class="docutils literal notranslate"><span class="pre">Continuous</span></code>， <code class="docutils literal notranslate"><span class="pre">&lt;Test&gt;</span></code>可以是<code class="docutils literal notranslate"><span class="pre">Start</span></code>、<code class="docutils literal notranslate"><span class="pre">Update</span></code>、<code class="docutils literal notranslate"><span class="pre">Configure</span></code>、<code class="docutils literal notranslate"><span class="pre">Build</span></code>、<code class="docutils literal notranslate"><span class="pre">Test</span></code>、<code class="docutils literal notranslate"><span class="pre">Coverage</span></code>和<code class="docutils literal notranslate"><span class="pre">Submit</span></code>。</p>
<p>如果<code class="docutils literal notranslate"><span class="pre">&lt;dashboard&gt;</span></code>不是可识别的<code class="docutils literal notranslate"><span class="pre">&lt;Mode&gt;&lt;Test&gt;</span></code>值之一，则将其视为变量定义（请参阅下面的<a class="reference internal" href="#dashboard-options"><span class="std std-ref">dashboard-options</span></a>）。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-M">
<span id="cmdoption-ctest-test-model"></span><span class="sig-name descname"><span class="pre">-M</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;model&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--test-model</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;model&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-M" title="Link to this definition">¶</a></dt>
<dd><p>设置指示板的模型。</p>
<p>这个选项告诉CTest充当一个CDash客户端，其中<code class="docutils literal notranslate"><span class="pre">&lt;model&gt;</span></code>可以是<code class="docutils literal notranslate"><span class="pre">Experimental</span></code>、<code class="docutils literal notranslate"><span class="pre">Nightly</span></code>和<code class="docutils literal notranslate"><span class="pre">Continuous</span></code>。<code class="docutils literal notranslate"><span class="pre">-M</span></code>和<a class="reference internal" href="#cmdoption-ctest-T"><code class="xref std std-option docutils literal notranslate"><span class="pre">-T</span></code></a>的组合类似于<a class="reference internal" href="#cmdoption-ctest-D"><code class="xref std std-option docutils literal notranslate"><span class="pre">-D</span></code></a>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-T">
<span id="cmdoption-ctest-test-action"></span><span class="sig-name descname"><span class="pre">-T</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;action&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--test-action</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;action&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-T" title="Link to this definition">¶</a></dt>
<dd><p>设置要执行的指示板操作。</p>
<p>这个选项告诉CTest充当一个CDash客户端，并执行一些操作，如<code class="docutils literal notranslate"><span class="pre">start</span></code>、<code class="docutils literal notranslate"><span class="pre">build</span></code>、<code class="docutils literal notranslate"><span class="pre">test</span></code>等。有关操作的完整列表，请参阅<a class="reference internal" href="#id10">仪表板客户端步骤</a> 。<a class="reference internal" href="#cmdoption-ctest-M"><code class="xref std std-option docutils literal notranslate"><span class="pre">-M</span></code></a>和<code class="docutils literal notranslate"><span class="pre">-T</span></code>的组合类似于<a class="reference internal" href="#cmdoption-ctest-D"><code class="xref std std-option docutils literal notranslate"><span class="pre">-D</span></code></a>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-S">
<span id="cmdoption-ctest-script"></span><span class="sig-name descname"><span class="pre">-S</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;script&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--script</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;script&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-S" title="Link to this definition">¶</a></dt>
<dd><p>为配置执行指示板。</p>
<p>这个选项告诉CTest加载一个配置脚本，该脚本设置了一些参数，比如二进制文件和源目录。然后，CTest将执行创建和运行仪表板所需的操作。这个选项基本上设置了一个指示板，然后使用适当的选项运行<a class="reference internal" href="#cmdoption-ctest-D"><code class="xref std std-option docutils literal notranslate"><span class="pre">ctest</span> <span class="pre">-D</span></code></a>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-SP">
<span id="cmdoption-ctest-script-new-process"></span><span class="sig-name descname"><span class="pre">-SP</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;script&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--script-new-process</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;script&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-SP" title="Link to this definition">¶</a></dt>
<dd><p>为配置执行指示板。</p>
<p>此选项执行与<a class="reference internal" href="#cmdoption-ctest-S"><code class="xref std std-option docutils literal notranslate"><span class="pre">-S</span></code></a>相同的操作，但它将在单独的进程中执行。当脚本可能会修改环境，而你不希望修改后的环境影响其他<a class="reference internal" href="#cmdoption-ctest-S"><code class="xref std std-option docutils literal notranslate"><span class="pre">-S</span></code></a>脚本时，相当有用。</p>
</dd></dl>

<p id="dashboard-options">可用的<code class="docutils literal notranslate"><span class="pre">&lt;dashboard-options&gt;</span></code>如下：</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-3">
<span class="sig-name descname"><span class="pre">-D</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;var&gt;:&lt;type&gt;=&lt;value&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-3" title="Link to this definition">¶</a></dt>
<dd><p>为脚本模式定义变量。</p>
<p>在命令行上传递变量值。与<a class="reference internal" href="#cmdoption-ctest-S"><code class="xref std std-option docutils literal notranslate"><span class="pre">-S</span></code></a>一起使用可将变量值传递给指示板脚本。只有当<code class="docutils literal notranslate"><span class="pre">-D</span></code>后面的值与任何已知的指示板类型不匹配时，才会尝试将<code class="docutils literal notranslate"><span class="pre">-D</span></code>参数解析为变量值。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-group">
<span class="sig-name descname"><span class="pre">--group</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;group&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-group" title="Link to this definition">¶</a></dt>
<dd><p>指定要将结果提交给哪个组</p>
<p>提交仪表板到指定组，而不是默认组。默认情况下，仪表板被提交到Nightly、Experimental或Continuous组，但通过指定此选项，该组可以是任意的。</p>
<p>这将取代已弃用的选项<code class="docutils literal notranslate"><span class="pre">--track</span></code>。尽管名称改变了它的行为是不变的。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-A">
<span id="cmdoption-ctest-add-notes"></span><span class="sig-name descname"><span class="pre">-A</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;file&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--add-notes</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;file&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-A" title="Link to this definition">¶</a></dt>
<dd><p>添加带有提交的注释文件。</p>
<p>这个选项告诉CTest在提交指示板时包含一个注释文件。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-tomorrow-tag">
<span class="sig-name descname"><span class="pre">--tomorrow-tag</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-tomorrow-tag" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">Nightly</span></code>或<code class="docutils literal notranslate"><span class="pre">Experimental</span></code>开始与第二天标签。</p>
<p>如果构建不能在一天内完成，这是很有用的。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-extra-submit">
<span class="sig-name descname"><span class="pre">--extra-submit</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;file&gt;[;&lt;file&gt;]</span></span><a class="headerlink" href="#cmdoption-ctest-extra-submit" title="Link to this definition">¶</a></dt>
<dd><p>向仪表板提交额外的文件。</p>
<p>此选项将向指示板提交额外的文件。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-http-header">
<span class="sig-name descname"><span class="pre">--http-header</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;header&gt;</span></span><a class="headerlink" href="#cmdoption-ctest-http-header" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">在 3.29 版本加入.</span></p>
</div>
<p>提交到仪表板时附加HTTP头。</p>
<p>这个选项将导致CTest在提交到仪表板时附加指定的头。此选项可以指定多次。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-http1.0">
<span class="sig-name descname"><span class="pre">--http1.0</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-http1.0" title="Link to this definition">¶</a></dt>
<dd><p>使用<cite>HTTP 1.0</cite>提交。</p>
<p>这个选项将强制CTest使用<cite>HTTP 1.0</cite>向仪表板提交文件，而不是<cite>HTTP 1.1</cite>。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ctest-no-compress-output">
<span class="sig-name descname"><span class="pre">--no-compress-output</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ctest-no-compress-output" title="Link to this definition">¶</a></dt>
<dd><p>提交时不要压缩测试输出。</p>
<p>此标志将关闭测试输出的自动压缩。使用它可以保持与旧版本的CDash的兼容性，该版本不支持压缩测试输出。</p>
</dd></dl>

<section id="id10">
<h3><a class="toc-backref" href="#id37" role="doc-backlink">仪表板客户端步骤</a><a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<p>CTest定义了一个有序的测试步骤列表，其中一些或全部可以作为仪表板客户端运行：</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Start</span></code></dt><dd><p>启动一个新的仪表板提交，由以下步骤记录的结果组成。请参阅下面的<a class="reference internal" href="#id14">CTest开始步骤</a>章节。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Update</span></code></dt><dd><p>从其版本控制存储库更新源代码树。记录新旧版本和更新的源文件列表。请参阅下面的<a class="reference internal" href="#id15">CTest更新步骤</a>章节。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Configure</span></code></dt><dd><p>通过在构建树中运行命令来配置软件。记录配置输出日志。请参阅下面的<a class="reference internal" href="#id16">CTest配置步骤</a>章节。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Build</span></code></dt><dd><p>通过在构建树中运行命令来构建软件。记录构建输出日志并检测警告和错误。请参阅下面的<a class="reference internal" href="#id17">CTest构建步骤</a>部分。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Test</span></code></dt><dd><p>通过从构建树中加载<code class="docutils literal notranslate"><span class="pre">CTestTestfile.cmake</span></code>并执行定义的测试来测试软件。记录每次测试的输出和结果。请参阅下面的<a class="reference internal" href="#id18">CTest测试步骤</a>章节。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Coverage</span></code></dt><dd><p>通过运行覆盖率分析工具并记录其输出来计算源代码的覆盖率。请参阅下面的<a class="reference internal" href="#id19">CTest覆盖步骤</a>章节。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MemCheck</span></code></dt><dd><p>通过内存检查工具运行软件测试套件。记录工具报告的测试输出、结果和问题。请参阅下面的<a class="reference internal" href="#id20">CTest内存测试步骤</a>章节。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Submit</span></code></dt><dd><p>将其他测试步骤记录的结果提交到软件质量仪表板服务器。请参阅下面的<a class="reference internal" href="#id21">CTest提交步骤</a>章节。</p>
</dd>
</dl>
</section>
<section id="id11">
<h3><a class="toc-backref" href="#id38" role="doc-backlink">仪表板客户端模式</a><a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<p>CTest作为仪表板客户端定义了三种操作模式：</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Nightly</span></code></dt><dd><p>此模式打算每天调用一次，通常在晚上。默认情况下，它启用<code class="docutils literal notranslate"><span class="pre">Start</span></code>、<code class="docutils literal notranslate"><span class="pre">Update</span></code>、<code class="docutils literal notranslate"><span class="pre">Configure</span></code>、<code class="docutils literal notranslate"><span class="pre">Build</span></code>、<code class="docutils literal notranslate"><span class="pre">Test</span></code>、<code class="docutils literal notranslate"><span class="pre">Coverage</span></code>和<code class="docutils literal notranslate"><span class="pre">Submit</span></code>步骤。即使<code class="docutils literal notranslate"><span class="pre">Update</span></code>步骤没有向源树报告任何更改，也会运行所选步骤。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Continuous</span></code></dt><dd><p>此模式打算在一天中反复调用。默认情况下，它启用<code class="docutils literal notranslate"><span class="pre">Start</span></code>、<code class="docutils literal notranslate"><span class="pre">Update</span></code>、<code class="docutils literal notranslate"><span class="pre">Configure</span></code>、<code class="docutils literal notranslate"><span class="pre">Build</span></code>、<code class="docutils literal notranslate"><span class="pre">Test</span></code>、<code class="docutils literal notranslate"><span class="pre">Coverage</span></code>和<code class="docutils literal notranslate"><span class="pre">Submit</span></code>步骤，但是如果它没有向源代码树报告任何更改，则在<code class="docutils literal notranslate"><span class="pre">Update</span></code>步骤之后退出。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Experimental</span></code></dt><dd><p>此模式旨在由开发人员调用以测试本地更改。默认情况下，它启用<code class="docutils literal notranslate"><span class="pre">Start</span></code>、<code class="docutils literal notranslate"><span class="pre">Configure</span></code>、<code class="docutils literal notranslate"><span class="pre">Build</span></code>、<code class="docutils literal notranslate"><span class="pre">Test</span></code>、<code class="docutils literal notranslate"><span class="pre">Coverage</span></code>和<code class="docutils literal notranslate"><span class="pre">Submit</span></code>步骤。</p>
</dd>
</dl>
</section>
<section id="ctest">
<h3><a class="toc-backref" href="#id39" role="doc-backlink">通过CTest命令行运行仪表板客户端</a><a class="headerlink" href="#ctest" title="Link to this heading">¶</a></h3>
<p>CTest可以在已经生成的构建树上执行测试。运行<strong class="program">ctest</strong>命令，将当前工作目录设置为构建树，并使用以下签名之一：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ctest -D &lt;mode&gt;[&lt;step&gt;]
ctest -M &lt;mode&gt; [-T &lt;step&gt;]...
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;mode&gt;</span></code>必须是上述<a class="reference internal" href="#id11">仪表板客户端模式</a>之一，每个<code class="docutils literal notranslate"><span class="pre">&lt;step&gt;</span></code>必须是上述<a class="reference internal" href="#id10">仪表板客户端步骤</a>之一。</p>
<p>CTest从构建树中的一个名为<code class="docutils literal notranslate"><span class="pre">CTestConfiguration.ini</span></code>或<code class="docutils literal notranslate"><span class="pre">DartConfiguration.tcl</span></code>（名称是历史的）的文件中读取<a class="reference internal" href="#id13">仪表板客户端配置</a>设置。文件格式为：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Lines starting in &#39;#&#39; are comments.
# Other non-blank lines are key-value pairs.
&lt;setting&gt;: &lt;value&gt;
</pre></div>
</div>
<p>其中<code class="docutils literal notranslate"><span class="pre">&lt;setting&gt;</span></code>为设置名称，<code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code>为设置值。</p>
<p>在CMake生成的构建树中，这个配置文件是由<span class="target" id="index-0-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>模块生成的，如果包含在项目中。该模块使用变量获取每个设置的值，如下面的设置文档所示。</p>
</section>
<section id="ctest-script">
<span id="id12"></span><h3><a class="toc-backref" href="#id40" role="doc-backlink">通过CTest脚本运行仪表板客户端</a><a class="headerlink" href="#ctest-script" title="Link to this heading">¶</a></h3>
<p>CTest可以执行由<span class="target" id="index-0-manual:cmake-language(7)"></span><a class="reference internal" href="cmake-language.7.html#manual:cmake-language(7)" title="cmake-language(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-language(7)</span></code></a>脚本驱动的测试，该脚本创建并维护源代码和构建树，以及执行测试步骤。运行<strong class="program">ctest</strong>命令，将当前工作目录设置在任何构建树之外，并使用以下签名之一：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ctest -S &lt;script&gt;
ctest -SP &lt;script&gt;
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code>文件必须调用<a class="reference internal" href="cmake-commands.7.html#ctest-commands"><span class="std std-ref">CTest命令</span></a>命令来显式地运行测试步骤，如下所示。这些命令从它们的参数或脚本中设置的变量中获取<a class="reference internal" href="#id13">仪表板客户端配置</a>设置。</p>
</section>
</section>
<section id="id13">
<h2><a class="toc-backref" href="#id41" role="doc-backlink">仪表板客户端配置</a><a class="headerlink" href="#id13" title="Link to this heading">¶</a></h2>
<p><a class="reference internal" href="#id10">仪表板客户端步骤</a>步骤可以通过以下部分中记录的命名设置进行配置。</p>
<section id="ctest-start-step">
<span id="id14"></span><h3><a class="toc-backref" href="#id42" role="doc-backlink">CTest开始步骤</a><a class="headerlink" href="#ctest-start-step" title="Link to this heading">¶</a></h3>
<p>启动一个新的仪表板提交，由以下步骤记录的结果组成。</p>
<p>在<a class="reference internal" href="#ctest-script">CTest Script</a>中，<span class="target" id="index-0-command:ctest_start"></span><a class="reference internal" href="../command/ctest_start.html#command:ctest_start" title="ctest_start"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_start()</span></code></a>命令运行此步骤。命令的参数可以指定一些步骤设置。该命令首先运行<code class="docutils literal notranslate"><span class="pre">CTEST_CHECKOUT_COMMAND</span></code> 变量（如果设置了）指定的命令行，以初始化源目录。</p>
<p>配置设置包括：</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">BuildDirectory</span></code></dt><dd><p>项目构建树的完整路径。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_BINARY_DIRECTORY"></span><a class="reference internal" href="../variable/CTEST_BINARY_DIRECTORY.html#variable:CTEST_BINARY_DIRECTORY" title="CTEST_BINARY_DIRECTORY"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_BINARY_DIRECTORY</span></code></a></p></li>
<li><p><span class="target" id="index-1-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<span class="target" id="index-0-variable:PROJECT_BINARY_DIR"></span><a class="reference internal" href="../variable/PROJECT_BINARY_DIR.html#variable:PROJECT_BINARY_DIR" title="PROJECT_BINARY_DIR"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">PROJECT_BINARY_DIR</span></code></a></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SourceDirectory</span></code></dt><dd><p>项目源代码树的完整路径。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_SOURCE_DIRECTORY"></span><a class="reference internal" href="../variable/CTEST_SOURCE_DIRECTORY.html#variable:CTEST_SOURCE_DIRECTORY" title="CTEST_SOURCE_DIRECTORY"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_SOURCE_DIRECTORY</span></code></a></p></li>
<li><p><span class="target" id="index-2-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<span class="target" id="index-0-variable:PROJECT_SOURCE_DIR"></span><a class="reference internal" href="../variable/PROJECT_SOURCE_DIR.html#variable:PROJECT_SOURCE_DIR" title="PROJECT_SOURCE_DIR"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">PROJECT_SOURCE_DIR</span></code></a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="ctest-update-step">
<span id="id15"></span><h3><a class="toc-backref" href="#id43" role="doc-backlink">CTest更新步骤</a><a class="headerlink" href="#ctest-update-step" title="Link to this heading">¶</a></h3>
<p>在<a class="reference internal" href="#ctest-script">CTest Script</a>中，<span class="target" id="index-0-command:ctest_update"></span><a class="reference internal" href="../command/ctest_update.html#command:ctest_update" title="ctest_update"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_update()</span></code></a>命令运行此步骤。命令的参数可以指定一些步骤设置。</p>
<p>指定版本控制工具的配置设置包括：</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">BZRCommand</span></code></dt><dd><p>如果源代码树由Bazaar管理，则使用<code class="docutils literal notranslate"><span class="pre">bzr</span></code>命令行工具。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_BZR_COMMAND"></span><a class="reference internal" href="../variable/CTEST_BZR_COMMAND.html#variable:CTEST_BZR_COMMAND" title="CTEST_BZR_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_BZR_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-3-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：无</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">BZRUpdateOptions</span></code></dt><dd><p>在更新源代码时，将命令行选项设置为<code class="docutils literal notranslate"><span class="pre">BZRCommand</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_BZR_UPDATE_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_BZR_UPDATE_OPTIONS.html#variable:CTEST_BZR_UPDATE_OPTIONS" title="CTEST_BZR_UPDATE_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_BZR_UPDATE_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-4-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：无</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CVSCommand</span></code></dt><dd><p>如果源代码树由CVS管理，则使用<code class="docutils literal notranslate"><span class="pre">cvs</span></code>命令行工具。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_CVS_COMMAND"></span><a class="reference internal" href="../variable/CTEST_CVS_COMMAND.html#variable:CTEST_CVS_COMMAND" title="CTEST_CVS_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_CVS_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-5-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CVSCOMMAND</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CVSUpdateOptions</span></code></dt><dd><p>在更新源代码时，将命令行选项设置为<code class="docutils literal notranslate"><span class="pre">CVSCommand</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_CVS_UPDATE_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_CVS_UPDATE_OPTIONS.html#variable:CTEST_CVS_UPDATE_OPTIONS" title="CTEST_CVS_UPDATE_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_CVS_UPDATE_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-6-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CVS_UPDATE_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">GITCommand</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">git</span></code>命令行工具，如果源代码树是由Git管理的。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_GIT_COMMAND"></span><a class="reference internal" href="../variable/CTEST_GIT_COMMAND.html#variable:CTEST_GIT_COMMAND" title="CTEST_GIT_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_GIT_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-7-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">GITCOMMAND</span></code></p></li>
</ul>
<p>源代码树通过<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code>更新，然后<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span></code>更新到<code class="docutils literal notranslate"><span class="pre">FETCH_HEAD</span></code>。结果与<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>相同，只是所有的本地修改都会被覆盖。使用<code class="docutils literal notranslate"><span class="pre">GITUpdateCustom</span></code>来指定不同的方法。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">GITInitSubmodules</span></code></dt><dd><p>如果设置了，CTest将在更新之前更新存储库的子模块。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_GIT_INIT_SUBMODULES"></span><a class="reference internal" href="../variable/CTEST_GIT_INIT_SUBMODULES.html#variable:CTEST_GIT_INIT_SUBMODULES" title="CTEST_GIT_INIT_SUBMODULES"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_GIT_INIT_SUBMODULES</span></code></a></p></li>
<li><p><span class="target" id="index-8-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_GIT_INIT_SUBMODULES</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">GITUpdateCustom</span></code></dt><dd><p>指定一个自定义命令行（以分号分隔的列表形式）在源代码树（Git工作树）中运行以更新它，而不是运行<code class="docutils literal notranslate"><span class="pre">GITCommand</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_GIT_UPDATE_CUSTOM"></span><a class="reference internal" href="../variable/CTEST_GIT_UPDATE_CUSTOM.html#variable:CTEST_GIT_UPDATE_CUSTOM" title="CTEST_GIT_UPDATE_CUSTOM"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_GIT_UPDATE_CUSTOM</span></code></a></p></li>
<li><p><span class="target" id="index-9-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_GIT_UPDATE_CUSTOM</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">GITUpdateOptions</span></code></dt><dd><p>在更新源代码时，将命令行选项设置为<code class="docutils literal notranslate"><span class="pre">GITCommand</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_GIT_UPDATE_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_GIT_UPDATE_OPTIONS.html#variable:CTEST_GIT_UPDATE_OPTIONS" title="CTEST_GIT_UPDATE_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_GIT_UPDATE_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-10-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">GIT_UPDATE_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">HGCommand</span></code></dt><dd><p>如果源代码树由Mercurial管理，则使用<code class="docutils literal notranslate"><span class="pre">hg</span></code>命令行工具。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_HG_COMMAND"></span><a class="reference internal" href="../variable/CTEST_HG_COMMAND.html#variable:CTEST_HG_COMMAND" title="CTEST_HG_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_HG_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-11-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：无</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">HGUpdateOptions</span></code></dt><dd><p>在更新源代码时，将命令行选项设置为<code class="docutils literal notranslate"><span class="pre">HGCommand</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_HG_UPDATE_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_HG_UPDATE_OPTIONS.html#variable:CTEST_HG_UPDATE_OPTIONS" title="CTEST_HG_UPDATE_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_HG_UPDATE_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-12-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：无</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">P4Client</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">P4Command</span></code>的<code class="docutils literal notranslate"><span class="pre">-c</span></code>选项的值。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_P4_CLIENT"></span><a class="reference internal" href="../variable/CTEST_P4_CLIENT.html#variable:CTEST_P4_CLIENT" title="CTEST_P4_CLIENT"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_P4_CLIENT</span></code></a></p></li>
<li><p><span class="target" id="index-13-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_P4_CLIENT</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">P4Command</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">p4</span></code>命令行工具，如果源代码树是由Perforce管理。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_P4_COMMAND"></span><a class="reference internal" href="../variable/CTEST_P4_COMMAND.html#variable:CTEST_P4_COMMAND" title="CTEST_P4_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_P4_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-14-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">P4COMMAND</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">P4Options</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">P4Command</span></code>的命令行选项，用于所有调用。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_P4_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_P4_OPTIONS.html#variable:CTEST_P4_OPTIONS" title="CTEST_P4_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_P4_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-15-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_P4_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">P4UpdateCustom</span></code></dt><dd><p>指定要在源树（Perforce树）中运行的自定义命令行（以分号分隔的列表形式）来更新源树，而不是运行<code class="docutils literal notranslate"><span class="pre">P4Command</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无</p></li>
<li><p><span class="target" id="index-16-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_P4_UPDATE_CUSTOM</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">P4UpdateOptions</span></code></dt><dd><p>在更新源代码时将命令行选项设置为<code class="docutils literal notranslate"><span class="pre">P4Command</span></code> 。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_P4_UPDATE_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_P4_UPDATE_OPTIONS.html#variable:CTEST_P4_UPDATE_OPTIONS" title="CTEST_P4_UPDATE_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_P4_UPDATE_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-17-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_P4_UPDATE_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SVNCommand</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">svn</span></code>命令行工具，如果源代码树是由Subversion管理的。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_SVN_COMMAND"></span><a class="reference internal" href="../variable/CTEST_SVN_COMMAND.html#variable:CTEST_SVN_COMMAND" title="CTEST_SVN_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_SVN_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-18-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">SVNCOMMAND</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SVNOptions</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">SVNCommand</span></code>所有调用的命令行选项。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_SVN_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_SVN_OPTIONS.html#variable:CTEST_SVN_OPTIONS" title="CTEST_SVN_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_SVN_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-19-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_SVN_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SVNUpdateOptions</span></code></dt><dd><p>更新源时，<code class="docutils literal notranslate"><span class="pre">SVNCommand</span></code>的命令行选项。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_SVN_UPDATE_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_SVN_UPDATE_OPTIONS.html#variable:CTEST_SVN_UPDATE_OPTIONS" title="CTEST_SVN_UPDATE_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_SVN_UPDATE_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-20-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">SVN_UPDATE_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">UpdateCommand</span></code></dt><dd><p>指定要使用的版本控制命令行工具，而不检测管理源代码树的VCS。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_UPDATE_COMMAND"></span><a class="reference internal" href="../variable/CTEST_UPDATE_COMMAND.html#variable:CTEST_UPDATE_COMMAND" title="CTEST_UPDATE_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_UPDATE_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-21-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：当<code class="docutils literal notranslate"><span class="pre">UPDATE_TYPE</span></code>为<code class="docutils literal notranslate"><span class="pre">&lt;vcs&gt;</span></code>时为<code class="docutils literal notranslate"><span class="pre">&lt;VCS&gt;COMMAND</span></code>，否则为<code class="docutils literal notranslate"><span class="pre">UPDATE_COMMAND</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">UpdateOptions</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">UpdateCommand</span></code>的命令行选项。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_UPDATE_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_UPDATE_OPTIONS.html#variable:CTEST_UPDATE_OPTIONS" title="CTEST_UPDATE_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_UPDATE_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-22-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：当<code class="docutils literal notranslate"><span class="pre">UPDATE_TYPE</span></code>为<code class="docutils literal notranslate"><span class="pre">&lt;vcs&gt;</span></code>时为<code class="docutils literal notranslate"><span class="pre">&lt;VCS&gt;_UPDATE_OPTIONS</span></code>，否则为<code class="docutils literal notranslate"><span class="pre">UPDATE_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">UpdateType</span></code></dt><dd><p>如果无法自动检测到源代码树，则指定管理该源代码树的版本控制系统。取值为<code class="docutils literal notranslate"><span class="pre">bzr</span></code>、<code class="docutils literal notranslate"><span class="pre">cvs</span></code>、<code class="docutils literal notranslate"><span class="pre">git</span></code>、<code class="docutils literal notranslate"><span class="pre">hg</span></code>、<code class="docutils literal notranslate"><span class="pre">p4</span></code>及<code class="docutils literal notranslate"><span class="pre">svn</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无，从源代码树检测</p></li>
<li><p><span class="target" id="index-23-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：如果设置了，则为<code class="docutils literal notranslate"><span class="pre">UPDATE_TYPE</span></code>，否则为<code class="docutils literal notranslate"><span class="pre">CTEST_UPDATE_TYPE</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="simple" id="updateversiononly">
<dt><code class="docutils literal notranslate"><span class="pre">UpdateVersionOnly</span></code></dt><dd><p>指定希望版本控制更新命令只发现签出的当前版本，而不更新到不同的版本。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_UPDATE_VERSION_ONLY"></span><a class="reference internal" href="../variable/CTEST_UPDATE_VERSION_ONLY.html#variable:CTEST_UPDATE_VERSION_ONLY" title="CTEST_UPDATE_VERSION_ONLY"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_UPDATE_VERSION_ONLY</span></code></a></p></li>
</ul>
</dd>
</dl>
<dl id="updateversionoverride">
<dt><code class="docutils literal notranslate"><span class="pre">UpdateVersionOverride</span></code></dt><dd><p>指定源代码树的当前版本。</p>
<p>当将该变量设置为非空字符串时，CTest将报告你指定的值，而不是使用update命令来发现已检出的当前版本。这个变量的使用取代了<code class="docutils literal notranslate"><span class="pre">UpdateVersionOnly</span></code>。与<code class="docutils literal notranslate"><span class="pre">UpdateVersionOnly</span></code>一样，使用这个变量告诉CTest不要将源树更新为不同的版本。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_UPDATE_VERSION_OVERRIDE"></span><a class="reference internal" href="../variable/CTEST_UPDATE_VERSION_OVERRIDE.html#variable:CTEST_UPDATE_VERSION_OVERRIDE" title="CTEST_UPDATE_VERSION_OVERRIDE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_UPDATE_VERSION_OVERRIDE</span></code></a></p></li>
</ul>
</dd>
</dl>
<p>其他配置设置包括：</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">NightlyStartTime</span></code></dt><dd><p>在<code class="docutils literal notranslate"><span class="pre">Nightly</span></code>仪表板模式下，指定“夜间开始时间”。使用集中式版本控制系统（<code class="docutils literal notranslate"><span class="pre">cvs</span></code>和<code class="docutils literal notranslate"><span class="pre">svn</span></code>），<code class="docutils literal notranslate"><span class="pre">Update</span></code>步骤会检出此时的软件版本，以便多个客户机选择一个通用版本进行测试。这在分布式版本控制系统中没有明确定义，因此该设置被忽略。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_NIGHTLY_START_TIME"></span><a class="reference internal" href="../variable/CTEST_NIGHTLY_START_TIME.html#variable:CTEST_NIGHTLY_START_TIME" title="CTEST_NIGHTLY_START_TIME"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_NIGHTLY_START_TIME</span></code></a></p></li>
<li><p><span class="target" id="index-24-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：如果设置了，则为<code class="docutils literal notranslate"><span class="pre">NIGHTLY_START_TIME</span></code>，否则为<code class="docutils literal notranslate"><span class="pre">CTEST_NIGHTLY_START_TIME</span></code></p></li>
</ul>
</dd>
</dl>
</section>
<section id="ctest-configure-step">
<span id="id16"></span><h3><a class="toc-backref" href="#id44" role="doc-backlink">CTest配置步骤</a><a class="headerlink" href="#ctest-configure-step" title="Link to this heading">¶</a></h3>
<p>在<a class="reference internal" href="#ctest-script">CTest Script</a>中，<span class="target" id="index-0-command:ctest_configure"></span><a class="reference internal" href="../command/ctest_configure.html#command:ctest_configure" title="ctest_configure"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_configure()</span></code></a>命令运行此步骤。命令的参数可以指定一些步骤设置。</p>
<p>配置设置包括：</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">ConfigureCommand</span></code></dt><dd><p>命令行启动软件配置过程。它将在<code class="docutils literal notranslate"><span class="pre">BuildDirectory</span></code>设置指定的位置执行。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_CONFIGURE_COMMAND"></span><a class="reference internal" href="../variable/CTEST_CONFIGURE_COMMAND.html#variable:CTEST_CONFIGURE_COMMAND" title="CTEST_CONFIGURE_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_CONFIGURE_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-25-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<span class="target" id="index-0-variable:CMAKE_COMMAND"></span><a class="reference internal" href="../variable/CMAKE_COMMAND.html#variable:CMAKE_COMMAND" title="CMAKE_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_COMMAND</span></code></a>，后面跟着<span class="target" id="index-1-variable:PROJECT_SOURCE_DIR"></span><a class="reference internal" href="../variable/PROJECT_SOURCE_DIR.html#variable:PROJECT_SOURCE_DIR" title="PROJECT_SOURCE_DIR"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">PROJECT_SOURCE_DIR</span></code></a></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">LabelsForSubprojects</span></code></dt><dd><p>指定一个分号分隔的标签列表，这些标签将被视为子项目。当提交配置、测试或构建结果时，该映射将传递给CDash。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_LABELS_FOR_SUBPROJECTS"></span><a class="reference internal" href="../variable/CTEST_LABELS_FOR_SUBPROJECTS.html#variable:CTEST_LABELS_FOR_SUBPROJECTS" title="CTEST_LABELS_FOR_SUBPROJECTS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_LABELS_FOR_SUBPROJECTS</span></code></a></p></li>
<li><p><span class="target" id="index-26-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_LABELS_FOR_SUBPROJECTS</span></code></p></li>
</ul>
<p>请参阅<a class="reference internal" href="#id7">标签和子项目摘要</a>。</p>
</dd>
</dl>
</section>
<section id="ctest-build-step">
<span id="id17"></span><h3><a class="toc-backref" href="#id45" role="doc-backlink">CTest构建步骤</a><a class="headerlink" href="#ctest-build-step" title="Link to this heading">¶</a></h3>
<p>在<a class="reference internal" href="#ctest-script">CTest Script</a>中，<span class="target" id="index-0-command:ctest_build"></span><a class="reference internal" href="../command/ctest_build.html#command:ctest_build" title="ctest_build"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_build()</span></code></a>命令运行此步骤。命令的参数可以指定一些步骤设置。</p>
<p>配置设置包括：</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">DefaultCTestConfigurationType</span></code></dt><dd><p>当要启动的构建系统允许在构建时选择配置（例如<code class="docutils literal notranslate"><span class="pre">Debug</span></code>、<code class="docutils literal notranslate"><span class="pre">Release</span></code>）时，这指定了在没有给<strong class="program">ctest</strong>命令<a class="reference internal" href="#cmdoption-ctest-C"><code class="xref std std-option docutils literal notranslate"><span class="pre">-C</span></code></a>选项时要构建的默认配置。如果出现，该值将被替换为<code class="docutils literal notranslate"><span class="pre">MakeCommand</span></code>的值，以替换文字字符串<code class="docutils literal notranslate"><span class="pre">${CTEST_CONFIGURATION_TYPE}</span></code> 。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_CONFIGURATION_TYPE"></span><a class="reference internal" href="../variable/CTEST_CONFIGURATION_TYPE.html#variable:CTEST_CONFIGURATION_TYPE" title="CTEST_CONFIGURATION_TYPE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_CONFIGURATION_TYPE</span></code></a></p></li>
<li><p><span class="target" id="index-27-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">DEFAULT_CTEST_CONFIGURATION_TYPE</span></code>，被<span class="target" id="index-0-envvar:CMAKE_CONFIG_TYPE"></span><a class="reference internal" href="../envvar/CMAKE_CONFIG_TYPE.html#envvar:CMAKE_CONFIG_TYPE" title="CMAKE_CONFIG_TYPE"><code class="xref cmake cmake-envvar docutils literal notranslate"><span class="pre">CMAKE_CONFIG_TYPE</span></code></a>环境变量初始值。</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">LabelsForSubprojects</span></code></dt><dd><p>指定一个分号分隔的标签列表，这些标签将被视为子项目。当提交配置、测试或构建结果时，该映射将传递给CDash。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-1-variable:CTEST_LABELS_FOR_SUBPROJECTS"></span><a class="reference internal" href="../variable/CTEST_LABELS_FOR_SUBPROJECTS.html#variable:CTEST_LABELS_FOR_SUBPROJECTS" title="CTEST_LABELS_FOR_SUBPROJECTS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_LABELS_FOR_SUBPROJECTS</span></code></a></p></li>
<li><p><span class="target" id="index-28-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_LABELS_FOR_SUBPROJECTS</span></code></p></li>
</ul>
<p>请参阅<a class="reference internal" href="#id7">标签和子项目摘要</a>。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MakeCommand</span></code></dt><dd><p>命令行启动软件构建过程。它将在<code class="docutils literal notranslate"><span class="pre">BuildDirectory</span></code>设置指定的位置执行。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_BUILD_COMMAND"></span><a class="reference internal" href="../variable/CTEST_BUILD_COMMAND.html#variable:CTEST_BUILD_COMMAND" title="CTEST_BUILD_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_BUILD_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-29-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">MAKECOMMAND</span></code>，被<span class="target" id="index-0-command:build_command"></span><a class="reference internal" href="../command/build_command.html#command:build_command" title="build_command"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">build_command()</span></code></a>命令初始值。</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">UseLaunchers</span></code></dt><dd><p>对于使用<a class="reference internal" href="cmake-generators.7.html#makefile-generators"><span class="std std-ref">Makefile生成器</span></a>或<span class="target" id="index-0-generator:Ninja"></span><a class="reference internal" href="../generator/Ninja.html#generator:Ninja" title="Ninja"><code class="xref cmake cmake-generator docutils literal notranslate"><span class="pre">Ninja</span></code></a>生成器之一的CMake生成的构建树，指定<code class="docutils literal notranslate"><span class="pre">CTEST_USE_LAUNCHERS</span></code>特性是否被<span class="target" id="index-0-module:CTestUseLaunchers"></span><a class="reference internal" href="../module/CTestUseLaunchers.html#module:CTestUseLaunchers" title="CTestUseLaunchers"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTestUseLaunchers</span></code></a>模块（也包含在<span class="target" id="index-30-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>模块中）启用。当启用时，生成的构建系统将编译器、链接器或自定义命令行的每次调用包装为一个“启动器”，该“启动器”通过环境变量和文件与CTest通信，以报告粒度构建警告和错误信息。否则，CTest必须“抓取”构建输出日志以进行诊断。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_USE_LAUNCHERS"></span><a class="reference internal" href="../variable/CTEST_USE_LAUNCHERS.html#variable:CTEST_USE_LAUNCHERS" title="CTEST_USE_LAUNCHERS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_USE_LAUNCHERS</span></code></a></p></li>
<li><p><span class="target" id="index-31-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_USE_LAUNCHERS</span></code></p></li>
</ul>
</dd>
</dl>
</section>
<section id="ctest-test-step">
<span id="id18"></span><h3><a class="toc-backref" href="#id46" role="doc-backlink">CTest测试步骤</a><a class="headerlink" href="#ctest-test-step" title="Link to this heading">¶</a></h3>
<p>在<a class="reference internal" href="#ctest-script">CTest Script</a>中，<span class="target" id="index-1-command:ctest_test"></span><a class="reference internal" href="../command/ctest_test.html#command:ctest_test" title="ctest_test"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_test()</span></code></a>命令运行此步骤。命令的参数可以指定一些步骤设置。</p>
<p>配置设置包括：</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">ResourceSpecFile</span></code></dt><dd><p>指定<a class="reference internal" href="#ctest-resource-specification-file"><span class="std std-ref">资源规范文件</span></a>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_RESOURCE_SPEC_FILE"></span><a class="reference internal" href="../variable/CTEST_RESOURCE_SPEC_FILE.html#variable:CTEST_RESOURCE_SPEC_FILE" title="CTEST_RESOURCE_SPEC_FILE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_RESOURCE_SPEC_FILE</span></code></a></p></li>
<li><p><span class="target" id="index-32-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_SPEC_FILE</span></code></p></li>
</ul>
<p>有关更多信息，请参见<a class="reference internal" href="#ctest-resource-allocation"><span class="std std-ref">资源分配</span></a>。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">LabelsForSubprojects</span></code></dt><dd><p>指定一个分号分隔的标签列表，这些标签将被视为子项目。当提交配置、测试或构建结果时，该映射将传递给CDash。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-2-variable:CTEST_LABELS_FOR_SUBPROJECTS"></span><a class="reference internal" href="../variable/CTEST_LABELS_FOR_SUBPROJECTS.html#variable:CTEST_LABELS_FOR_SUBPROJECTS" title="CTEST_LABELS_FOR_SUBPROJECTS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_LABELS_FOR_SUBPROJECTS</span></code></a></p></li>
<li><p><span class="target" id="index-33-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_LABELS_FOR_SUBPROJECTS</span></code></p></li>
</ul>
<p>请参阅<a class="reference internal" href="#id7">标签和子项目摘要</a>。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TestLoad</span></code></dt><dd><p>在并行运行测试时（例如使用<a class="reference internal" href="#cmdoption-ctest-j"><code class="xref std std-option docutils literal notranslate"><span class="pre">-j</span></code></a>），当测试可能导致CPU负载超过给定阈值时，尽量不要启动测试。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_TEST_LOAD"></span><a class="reference internal" href="../variable/CTEST_TEST_LOAD.html#variable:CTEST_TEST_LOAD" title="CTEST_TEST_LOAD"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_TEST_LOAD</span></code></a></p></li>
<li><p><span class="target" id="index-34-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_TEST_LOAD</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TimeOut</span></code></dt><dd><p>如果未由<span class="target" id="index-1-prop_test:TIMEOUT"></span><a class="reference internal" href="../prop_test/TIMEOUT.html#prop_test:TIMEOUT" title="TIMEOUT"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">TIMEOUT</span></code></a>属性或者<a class="reference internal" href="#cmdoption-ctest-timeout"><code class="xref std std-option docutils literal notranslate"><span class="pre">--timeout</span></code></a>标识指定，则为每个测试的默认超时。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_TEST_TIMEOUT"></span><a class="reference internal" href="../variable/CTEST_TEST_TIMEOUT.html#variable:CTEST_TEST_TIMEOUT" title="CTEST_TEST_TIMEOUT"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_TEST_TIMEOUT</span></code></a></p></li>
<li><p><span class="target" id="index-35-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">DART_TESTING_TIMEOUT</span></code></p></li>
</ul>
</dd>
</dl>
<p>要向CDash报告额外的测试值，请参阅<a class="reference internal" href="../command/ctest_test.html#additional-test-measurements"><span class="std std-ref">Additional Test Measurements</span></a>。</p>
</section>
<section id="ctest-coverage-step">
<span id="id19"></span><h3><a class="toc-backref" href="#id47" role="doc-backlink">CTest覆盖步骤</a><a class="headerlink" href="#ctest-coverage-step" title="Link to this heading">¶</a></h3>
<p>在<a class="reference internal" href="#ctest-script">CTest Script</a>中，<span class="target" id="index-0-command:ctest_coverage"></span><a class="reference internal" href="../command/ctest_coverage.html#command:ctest_coverage" title="ctest_coverage"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_coverage()</span></code></a>命令运行这个步骤。命令的参数可以指定一些步骤设置。</p>
<p>配置设置包括：</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">CoverageCommand</span></code></dt><dd><p>执行软件覆盖率分析的命令行工具。它将在<code class="docutils literal notranslate"><span class="pre">BuildDirectory</span></code>设置指定的位置执行。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_COVERAGE_COMMAND"></span><a class="reference internal" href="../variable/CTEST_COVERAGE_COMMAND.html#variable:CTEST_COVERAGE_COMMAND" title="CTEST_COVERAGE_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_COVERAGE_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-36-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">COVERAGE_COMMAND</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CoverageExtraFlags</span></code></dt><dd><p>为<code class="docutils literal notranslate"><span class="pre">CoverageCommand</span></code>工具指定命令行选项。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_COVERAGE_EXTRA_FLAGS"></span><a class="reference internal" href="../variable/CTEST_COVERAGE_EXTRA_FLAGS.html#variable:CTEST_COVERAGE_EXTRA_FLAGS" title="CTEST_COVERAGE_EXTRA_FLAGS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_COVERAGE_EXTRA_FLAGS</span></code></a></p></li>
<li><p><span class="target" id="index-37-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">COVERAGE_EXTRA_FLAGS</span></code></p></li>
</ul>
<p>这些选项是传递给<code class="docutils literal notranslate"><span class="pre">CoverageCommand</span></code>的第一个参数。</p>
</dd>
</dl>
</section>
<section id="ctest-memcheck-step">
<span id="id20"></span><h3><a class="toc-backref" href="#id48" role="doc-backlink">CTest内存测试步骤</a><a class="headerlink" href="#ctest-memcheck-step" title="Link to this heading">¶</a></h3>
<p>在<a class="reference internal" href="#ctest-script">CTest Script</a>中，<span class="target" id="index-0-command:ctest_memcheck"></span><a class="reference internal" href="../command/ctest_memcheck.html#command:ctest_memcheck" title="ctest_memcheck"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_memcheck()</span></code></a>命令运行此步骤。命令的参数可以指定一些步骤设置。</p>
<p>配置设置包括：</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">MemoryCheckCommand</span></code></dt><dd><p>执行动态分析的命令行工具。测试命令行将通过这个工具启动。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_MEMORYCHECK_COMMAND"></span><a class="reference internal" href="../variable/CTEST_MEMORYCHECK_COMMAND.html#variable:CTEST_MEMORYCHECK_COMMAND" title="CTEST_MEMORYCHECK_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_MEMORYCHECK_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-38-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">MEMORYCHECK_COMMAND</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MemoryCheckCommandOptions</span></code></dt><dd><p>为<code class="docutils literal notranslate"><span class="pre">MemoryCheckCommand</span></code>工具指定命令行选项。它们将被放置在测试命令行之前。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_MEMORYCHECK_COMMAND_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_MEMORYCHECK_COMMAND_OPTIONS.html#variable:CTEST_MEMORYCHECK_COMMAND_OPTIONS" title="CTEST_MEMORYCHECK_COMMAND_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_MEMORYCHECK_COMMAND_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-39-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">MEMORYCHECK_COMMAND_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MemoryCheckType</span></code></dt><dd><p>指定要执行的内存检查类型。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_MEMORYCHECK_TYPE"></span><a class="reference internal" href="../variable/CTEST_MEMORYCHECK_TYPE.html#variable:CTEST_MEMORYCHECK_TYPE" title="CTEST_MEMORYCHECK_TYPE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_MEMORYCHECK_TYPE</span></code></a></p></li>
<li><p><span class="target" id="index-40-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">MEMORYCHECK_TYPE</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MemoryCheckSanitizerOptions</span></code></dt><dd><p>在使用启用了杀毒功能的构建运行时，指定杀毒功能的选项。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_MEMORYCHECK_SANITIZER_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_MEMORYCHECK_SANITIZER_OPTIONS.html#variable:CTEST_MEMORYCHECK_SANITIZER_OPTIONS" title="CTEST_MEMORYCHECK_SANITIZER_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_MEMORYCHECK_SANITIZER_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-41-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">MEMORYCHECK_SANITIZER_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MemoryCheckSuppressionFile</span></code></dt><dd><p>指定包含<code class="docutils literal notranslate"><span class="pre">MemoryCheckCommand</span></code>工具抑制规则的文件。它将与适合于工具的选项一起传递。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_MEMORYCHECK_SUPPRESSIONS_FILE"></span><a class="reference internal" href="../variable/CTEST_MEMORYCHECK_SUPPRESSIONS_FILE.html#variable:CTEST_MEMORYCHECK_SUPPRESSIONS_FILE" title="CTEST_MEMORYCHECK_SUPPRESSIONS_FILE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_MEMORYCHECK_SUPPRESSIONS_FILE</span></code></a></p></li>
<li><p><span class="target" id="index-42-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">MEMORYCHECK_SUPPRESSIONS_FILE</span></code></p></li>
</ul>
</dd>
</dl>
<p>其他配置设置包括：</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">BoundsCheckerCommand</span></code></dt><dd><p>指定已知与边界检查器兼容的命令行<code class="docutils literal notranslate"><span class="pre">MemoryCheckCommand</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无</p></li>
<li><p><span class="target" id="index-43-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：无</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">PurifyCommand</span></code></dt><dd><p>指定一个已知与Purify命令行兼容的<code class="docutils literal notranslate"><span class="pre">MemoryCheckCommand</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无</p></li>
<li><p><span class="target" id="index-44-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">PURIFYCOMMAND</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ValgrindCommand</span></code></dt><dd><p>指定一个已知与Valgrind命令行兼容的<code class="docutils literal notranslate"><span class="pre">MemoryCheckCommand</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无</p></li>
<li><p><span class="target" id="index-45-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">VALGRIND_COMMAND</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ValgrindCommandOptions</span></code></dt><dd><p>为<code class="docutils literal notranslate"><span class="pre">ValgrindCommand</span></code>工具指定命令行选项。它们将被放置在测试命令行之前。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无</p></li>
<li><p><span class="target" id="index-46-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">VALGRIND_COMMAND_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DrMemoryCommand</span></code></dt><dd><p>指定一个已知与DrMemory兼容的命令行<code class="docutils literal notranslate"><span class="pre">MemoryCheckCommand</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无</p></li>
<li><p><span class="target" id="index-47-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">DRMEMORY_COMMAND</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DrMemoryCommandOptions</span></code></dt><dd><p>为<code class="docutils literal notranslate"><span class="pre">DrMemoryCommand</span></code>工具指定命令行选项。它们将被放置在测试命令行之前。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无</p></li>
<li><p><span class="target" id="index-48-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">DRMEMORY_COMMAND_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CudaSanitizerCommand</span></code></dt><dd><p>指定一个<code class="docutils literal notranslate"><span class="pre">MemoryCheckCommand</span></code>，已知它是与cuda-memcheck或compute-sanitizer兼容的命令行。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无</p></li>
<li><p><span class="target" id="index-49-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CUDA_SANITIZER_COMMAND</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CudaSanitizerCommandOptions</span></code></dt><dd><p>为<code class="docutils literal notranslate"><span class="pre">CudaSanitizerCommand</span></code>工具指定命令行选项。它们将被放置在测试命令行之前。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无</p></li>
<li><p><span class="target" id="index-50-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CUDA_SANITIZER_COMMAND_OPTIONS</span></code></p></li>
</ul>
</dd>
</dl>
</section>
<section id="ctest-submit-step">
<span id="id21"></span><h3><a class="toc-backref" href="#id49" role="doc-backlink">CTest提交步骤</a><a class="headerlink" href="#ctest-submit-step" title="Link to this heading">¶</a></h3>
<p>在<a class="reference internal" href="#ctest-script">CTest Script</a>中，<span class="target" id="index-0-command:ctest_submit"></span><a class="reference internal" href="../command/ctest_submit.html#command:ctest_submit" title="ctest_submit"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_submit()</span></code></a>命令运行此步骤。命令的参数可以指定一些步骤设置。</p>
<p>配置设置包括：</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">BuildName</span></code></dt><dd><p>用一个短字符串描述仪表板客户端平台。（操作系统、编译器等）</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_BUILD_NAME"></span><a class="reference internal" href="../variable/CTEST_BUILD_NAME.html#variable:CTEST_BUILD_NAME" title="CTEST_BUILD_NAME"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_BUILD_NAME</span></code></a></p></li>
<li><p><span class="target" id="index-51-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">BUILDNAME</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CDashVersion</span></code></dt><dd><p>遗留的选项。不用。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无，由服务器检测</p></li>
<li><p><span class="target" id="index-52-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_CDASH_VERSION</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CTestSubmitRetryCount</span></code></dt><dd><p>指定在网络故障时重试提交的次数。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无，使用<span class="target" id="index-1-command:ctest_submit"></span><a class="reference internal" href="../command/ctest_submit.html#command:ctest_submit" title="ctest_submit"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_submit()</span></code></a> <code class="docutils literal notranslate"><span class="pre">RETRY_COUNT</span></code>选项。</p></li>
<li><p><span class="target" id="index-53-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_SUBMIT_RETRY_COUNT</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CTestSubmitRetryDelay</span></code></dt><dd><p>指定在网络故障时重试提交之前的延迟。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：无，使用<span class="target" id="index-2-command:ctest_submit"></span><a class="reference internal" href="../command/ctest_submit.html#command:ctest_submit" title="ctest_submit"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_submit()</span></code></a> <code class="docutils literal notranslate"><span class="pre">RETRY_DELAY</span></code>选项。</p></li>
<li><p><span class="target" id="index-54-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_SUBMIT_RETRY_DELAY</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CurlOptions</span></code></dt><dd><p>指定一个以分号分隔的选项列表来控制Curl库，CTest在内部使用Curl库连接到服务器。可能的选项是<code class="docutils literal notranslate"><span class="pre">CURLOPT_SSL_VERIFYPEER_OFF</span></code>和<code class="docutils literal notranslate"><span class="pre">CURLOPT_SSL_VERIFYHOST_OFF</span></code>。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_CURL_OPTIONS"></span><a class="reference internal" href="../variable/CTEST_CURL_OPTIONS.html#variable:CTEST_CURL_OPTIONS" title="CTEST_CURL_OPTIONS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_CURL_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-55-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_CURL_OPTIONS</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DropLocation</span></code></dt><dd><p>遗留的选择。当未设置 <code class="docutils literal notranslate"><span class="pre">SubmitURL</span></code> 时，它由<code class="docutils literal notranslate"><span class="pre">DropMethod</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSiteUser</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSitePassword</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSite</span></code>和<code class="docutils literal notranslate"><span class="pre">DropLocation</span></code>构造。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_DROP_LOCATION"></span><a class="reference internal" href="../variable/CTEST_DROP_LOCATION.html#variable:CTEST_DROP_LOCATION" title="CTEST_DROP_LOCATION"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_DROP_LOCATION</span></code></a></p></li>
<li><p><span class="target" id="index-56-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：如果设置了，则为<code class="docutils literal notranslate"><span class="pre">DROP_LOCATION</span></code>，否则<code class="docutils literal notranslate"><span class="pre">CTEST_DROP_LOCATION</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DropMethod</span></code></dt><dd><p>遗留的选择。当未设置 <code class="docutils literal notranslate"><span class="pre">SubmitURL</span></code> 时，它由<code class="docutils literal notranslate"><span class="pre">DropMethod</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSiteUser</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSitePassword</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSite</span></code>和<code class="docutils literal notranslate"><span class="pre">DropLocation</span></code>构造。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_DROP_METHOD"></span><a class="reference internal" href="../variable/CTEST_DROP_METHOD.html#variable:CTEST_DROP_METHOD" title="CTEST_DROP_METHOD"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_DROP_METHOD</span></code></a></p></li>
<li><p><span class="target" id="index-57-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：如果设置了，则为<code class="docutils literal notranslate"><span class="pre">DROP_METHOD</span></code>，否则<code class="docutils literal notranslate"><span class="pre">CTEST_DROP_METHOD</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DropSite</span></code></dt><dd><p>遗留的选择。当未设置 <code class="docutils literal notranslate"><span class="pre">SubmitURL</span></code> 时，它由<code class="docutils literal notranslate"><span class="pre">DropMethod</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSiteUser</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSitePassword</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSite</span></code>和<code class="docutils literal notranslate"><span class="pre">DropLocation</span></code>构造。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_DROP_SITE"></span><a class="reference internal" href="../variable/CTEST_DROP_SITE.html#variable:CTEST_DROP_SITE" title="CTEST_DROP_SITE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_DROP_SITE</span></code></a></p></li>
<li><p><span class="target" id="index-58-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：如果设置了，则为<code class="docutils literal notranslate"><span class="pre">DROP_SITE</span></code>，否则<code class="docutils literal notranslate"><span class="pre">CTEST_DROP_SITE</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DropSitePassword</span></code></dt><dd><p>遗留的选择。当未设置 <code class="docutils literal notranslate"><span class="pre">SubmitURL</span></code> 时，它由<code class="docutils literal notranslate"><span class="pre">DropMethod</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSiteUser</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSitePassword</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSite</span></code>和<code class="docutils literal notranslate"><span class="pre">DropLocation</span></code>构造。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_DROP_SITE_PASSWORD"></span><a class="reference internal" href="../variable/CTEST_DROP_SITE_PASSWORD.html#variable:CTEST_DROP_SITE_PASSWORD" title="CTEST_DROP_SITE_PASSWORD"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_DROP_SITE_PASSWORD</span></code></a></p></li>
<li><p><span class="target" id="index-59-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：如果设置了，则为<code class="docutils literal notranslate"><span class="pre">DROP_SITE_PASSWORD</span></code>，否则<code class="docutils literal notranslate"><span class="pre">CTEST_DROP_SITE_PASWORD</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DropSiteUser</span></code></dt><dd><p>遗留的选择。当未设置 <code class="docutils literal notranslate"><span class="pre">SubmitURL</span></code> 时，它由<code class="docutils literal notranslate"><span class="pre">DropMethod</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSiteUser</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSitePassword</span></code>、<code class="docutils literal notranslate"><span class="pre">DropSite</span></code>和<code class="docutils literal notranslate"><span class="pre">DropLocation</span></code>构造。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_DROP_SITE_USER"></span><a class="reference internal" href="../variable/CTEST_DROP_SITE_USER.html#variable:CTEST_DROP_SITE_USER" title="CTEST_DROP_SITE_USER"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_DROP_SITE_USER</span></code></a></p></li>
<li><p><span class="target" id="index-60-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：如果设置了，则为<code class="docutils literal notranslate"><span class="pre">DROP_SITE_USER</span></code>，否则<code class="docutils literal notranslate"><span class="pre">CTEST_DROP_SITE_USER</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">IsCDash</span></code></dt><dd><p>遗留的选项。不用。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_DROP_SITE_CDASH"></span><a class="reference internal" href="../variable/CTEST_DROP_SITE_CDASH.html#variable:CTEST_DROP_SITE_CDASH" title="CTEST_DROP_SITE_CDASH"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_DROP_SITE_CDASH</span></code></a></p></li>
<li><p><span class="target" id="index-61-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_DROP_SITE_CDASH</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ScpCommand</span></code></dt><dd><p>遗留的选项。不用。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_SCP_COMMAND"></span><a class="reference internal" href="../variable/CTEST_SCP_COMMAND.html#variable:CTEST_SCP_COMMAND" title="CTEST_SCP_COMMAND"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_SCP_COMMAND</span></code></a></p></li>
<li><p><span class="target" id="index-62-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">SCPCOMMAND</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Site</span></code></dt><dd><p>用短字符串描述仪表板客户端主机站点。（主机名、域名等）</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_SITE"></span><a class="reference internal" href="../variable/CTEST_SITE.html#variable:CTEST_SITE" title="CTEST_SITE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_SITE</span></code></a></p></li>
<li><p><span class="target" id="index-63-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">SITE</span></code>，被<span class="target" id="index-0-command:site_name"></span><a class="reference internal" href="../command/site_name.html#command:site_name" title="site_name"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">site_name()</span></code></a>命令初始值。</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SubmitURL</span></code></dt><dd><p>将提交发送到的仪表板服务器的<code class="docutils literal notranslate"><span class="pre">http</span></code>或<code class="docutils literal notranslate"><span class="pre">https</span></code> URL。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_SUBMIT_URL"></span><a class="reference internal" href="../variable/CTEST_SUBMIT_URL.html#variable:CTEST_SUBMIT_URL" title="CTEST_SUBMIT_URL"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_SUBMIT_URL</span></code></a></p></li>
<li><p><span class="target" id="index-64-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：如果设置了，则为<code class="docutils literal notranslate"><span class="pre">SUBMIT_URL</span></code>，否则<code class="docutils literal notranslate"><span class="pre">CTEST_SUBMIT_URL</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SubmitInactivityTimeout</span></code></dt><dd><p>等待提交的时间，如果提交未完成，提交将被取消。指定一个零值来禁用超时。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_SUBMIT_INACTIVITY_TIMEOUT"></span><a class="reference internal" href="../variable/CTEST_SUBMIT_INACTIVITY_TIMEOUT.html#variable:CTEST_SUBMIT_INACTIVITY_TIMEOUT" title="CTEST_SUBMIT_INACTIVITY_TIMEOUT"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_SUBMIT_INACTIVITY_TIMEOUT</span></code></a></p></li>
<li><p><span class="target" id="index-65-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：<code class="docutils literal notranslate"><span class="pre">CTEST_SUBMIT_INACTIVITY_TIMEOUT</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TriggerSite</span></code></dt><dd><p>遗留的选项。不用。</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-script">CTest Script</a>变量：<span class="target" id="index-0-variable:CTEST_TRIGGER_SITE"></span><a class="reference internal" href="../variable/CTEST_TRIGGER_SITE.html#variable:CTEST_TRIGGER_SITE" title="CTEST_TRIGGER_SITE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_TRIGGER_SITE</span></code></a></p></li>
<li><p><span class="target" id="index-66-module:CTest"></span><a class="reference internal" href="../module/CTest.html#module:CTest" title="CTest"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CTest</span></code></a>变量：如果设置了，则为<code class="docutils literal notranslate"><span class="pre">TRIGGER_SITE</span></code>，否则<code class="docutils literal notranslate"><span class="pre">CTEST_TRIGGER_SITE</span></code></p></li>
</ul>
</dd>
</dl>
</section>
</section>
<section id="json">
<span id="show-as-json-object-model"></span><h2><a class="toc-backref" href="#id50" role="doc-backlink">显示为JSON对象模型</a><a class="headerlink" href="#json" title="Link to this heading">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">在 3.14 版本加入.</span></p>
</div>
<p>当给出<code class="docutils literal notranslate"><span class="pre">--show-only=json-v1</span></code>命令行选项时，测试信息以JSON格式输出。版本1.0的JSON对象模型定义如下：</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">kind</span></code></dt><dd><p>字符串“ctestInfo”。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">version</span></code></dt><dd><p>指定版本组件的JSON对象。其成员是</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">major</span></code></dt><dd><p>一个非负整数，指定主版本组件。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">minor</span></code></dt><dd><p>指定次要版本组件的非负整数。</p>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">backtraceGraph</span></code></dt><dd><p>JSON对象，使用以下成员表示回溯信息：</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">commands</span></code></dt><dd><p>命令名称列表。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">files</span></code></dt><dd><p>文件名列表。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nodes</span></code></dt><dd><p>包含成员的节点JSON对象列表：</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">command</span></code></dt><dd><p>索引到<code class="docutils literal notranslate"><span class="pre">backtraceGraph</span></code>的<code class="docutils literal notranslate"><span class="pre">commands</span></code>成员。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">file</span></code></dt><dd><p>索引到<code class="docutils literal notranslate"><span class="pre">backtraceGraph</span></code>的<code class="docutils literal notranslate"><span class="pre">files</span></code>成员。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">line</span></code></dt><dd><p>添加回溯的文件中的行号。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">parent</span></code></dt><dd><p>索引到表示图中父节点的<code class="docutils literal notranslate"><span class="pre">backtraceGraph</span></code>的<code class="docutils literal notranslate"><span class="pre">nodes</span></code>成员。</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tests</span></code></dt><dd><p>一个JSON数组，列出关于每个测试的信息。每个条目都是一个JSON对象，包含以下成员：</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt><dd><p>测试名称。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>测试可以运行的配置。空字符串表示任何配置。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">command</span></code></dt><dd><p>列表，其中第一个元素是测试命令，其余元素是命令参数。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">backtrace</span></code></dt><dd><p>索引到<code class="docutils literal notranslate"><span class="pre">backtraceGraph</span></code>的<code class="docutils literal notranslate"><span class="pre">nodes</span></code>成员。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">properties</span></code></dt><dd><p>测试属性。可以包含每个支持的测试属性的键。</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="ctest-resource-allocation">
<span id="id22"></span><h2><a class="toc-backref" href="#id51" role="doc-backlink">资源分配</a><a class="headerlink" href="#ctest-resource-allocation" title="Link to this heading">¶</a></h2>
<p>CTest为测试提供了一种机制，以细粒度的方式指定它们所需的资源，并为用户指定正在运行的机器上可用的资源。这允许CTest在内部跟踪哪些资源正在使用，哪些资源是空闲的，以一种防止它们试图声明不可用的资源的方式调度测试。</p>
<p>当使用资源分配特性时，CTest不会过度订阅资源。例如，如果一个资源有8个插槽，CTest将不会运行一次总共使用超过8个插槽的测试。这样做的效果是限制在任何给定时间内可以运行的测试数量，即使使用了高<code class="docutils literal notranslate"><span class="pre">-j</span></code>参数，如果这些测试都使用来自同一资源的一些插槽。此外，这意味着单个测试使用的资源超过了机器上可用的资源，将根本不会运行（并且将报告为<code class="docutils literal notranslate"><span class="pre">Not</span> <span class="pre">Run</span></code>）。</p>
<p>此功能的一个常见用例是需要使用GPU的测试。多个测试可以同时从一个GPU分配内存，但是如果有太多测试试图一次这样做，其中一些测试将分配失败，导致测试失败，即使测试如果拥有所需的内存也会成功。通过使用资源分配特性，每个测试都可以指定它从GPU需要多少内存，从而允许CTest以一种同时运行几个测试而不会耗尽GPU内存池的方式来安排测试。</p>
<p>请注意，CTest没有GPU是什么或它有多少内存的概念。它没有任何与GPU通信的方式来检索这些信息或执行任何内存管理，尽管项目可以定义一个测试，提供有关测试机器的详细信息（参见<a class="reference internal" href="#ctest-resource-dynamically-generated-spec-file"><span class="std std-ref">动态生成的资源规范文件</span></a>）。</p>
<p>CTest跟踪抽象资源类型的列表，其中每个类型都有一定数量的槽可供测试使用。每个测试指定它从某个资源中需要的插槽数量，然后CTest以一种防止正在使用的插槽总数超过列出的容量的方式调度它们。当执行测试时，资源中的插槽被分配给该测试，测试可以假设它们在测试进程的持续时间内独占使用这些插槽。</p>
<p>CTest资源分配特性由最少两个输入组成：</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ctest-resource-specification-file"><span class="std std-ref">资源规范文件</span></a>，如下所述，它描述了系统上可用的资源。</p></li>
<li><p>测试的<span class="target" id="index-0-prop_test:RESOURCE_GROUPS"></span><a class="reference internal" href="../prop_test/RESOURCE_GROUPS.html#prop_test:RESOURCE_GROUPS" title="RESOURCE_GROUPS"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">RESOURCE_GROUPS</span></code></a>属性，它描述测试所需的资源。</p></li>
</ul>
<p>当CTest运行测试时，分配给该测试的资源以一组<a class="reference internal" href="#ctest-resource-environment-variables"><span class="std std-ref">环境变量</span></a>的形式传递，如下所述。使用此信息来决定将连接到哪个资源留给测试编写者。</p>
<p><code class="docutils literal notranslate"><span class="pre">RESOURCE_GROUPS</span></code>属性告诉CTest测试期望使用什么资源，以对测试有意义的方式进行分组。测试本身必须读取<a class="reference internal" href="#ctest-resource-environment-variables"><span class="std std-ref">环境变量</span></a>，以确定分配给每个组的资源。例如，每个组可能对应于测试在执行时将产生的一个进程。</p>
<p>注意，即使测试指定了<code class="docutils literal notranslate"><span class="pre">RESOURCE_GROUPS</span></code>属性，如果用户没有传递资源规范文件，该测试仍然有可能在没有任何资源分配（并且没有相应的<a class="reference internal" href="#ctest-resource-environment-variables"><span class="std std-ref">环境变量</span></a>）的情况下运行。通过<code class="docutils literal notranslate"><span class="pre">--resource-spec-file</span></code>命令行参数或<code class="docutils literal notranslate"><span class="pre">RESOURCE_SPEC_FILE</span></code>参数将该文件传递给<span class="target" id="index-2-command:ctest_test"></span><a class="reference internal" href="../command/ctest_test.html#command:ctest_test" title="ctest_test"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_test()</span></code></a>，将激活资源分配特性。测试应该检查<code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_COUNT</span></code>环境变量，以确定是否激活了资源分配。如果激活了资源分配，这个变量将始终（且仅）被定义。如果没有激活资源分配，那么<code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_COUNT</span></code>变量将不存在，即使它存在于父<strong class="program">ctest</strong>进程中。如果测试绝对必须有资源分配，那么它可以返回失败的退出代码，或者使用<span class="target" id="index-0-prop_test:SKIP_RETURN_CODE"></span><a class="reference internal" href="../prop_test/SKIP_RETURN_CODE.html#prop_test:SKIP_RETURN_CODE" title="SKIP_RETURN_CODE"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">SKIP_RETURN_CODE</span></code></a>或<span class="target" id="index-0-prop_test:SKIP_REGULAR_EXPRESSION"></span><a class="reference internal" href="../prop_test/SKIP_REGULAR_EXPRESSION.html#prop_test:SKIP_REGULAR_EXPRESSION" title="SKIP_REGULAR_EXPRESSION"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">SKIP_REGULAR_EXPRESSION</span></code></a>属性来指示跳过的测试。</p>
<section id="ctest-resource-specification-file">
<span id="id23"></span><h3><a class="toc-backref" href="#id52" role="doc-backlink">资源规格文件</a><a class="headerlink" href="#ctest-resource-specification-file" title="Link to this heading">¶</a></h3>
<p>资源规范文件是一个JSON文件，以多种方式传递给CTest。它可以在命令行上使用<a class="reference internal" href="#cmdoption-ctest-resource-spec-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">ctest</span> <span class="pre">--resource-spec-file</span></code></a>选项指定，也可以使用<span class="target" id="index-3-command:ctest_test"></span><a class="reference internal" href="../command/ctest_test.html#command:ctest_test" title="ctest_test"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_test()</span></code></a>的<code class="docutils literal notranslate"><span class="pre">RESOURCE_SPEC_FILE</span></code>参数指定，或者可以作为测试执行的一部分动态生成（参见<a class="reference internal" href="#ctest-resource-dynamically-generated-spec-file"><span class="std std-ref">动态生成的资源规范文件</span></a>）。</p>
<p>如果使用仪表板脚本，并且没有指定<code class="docutils literal notranslate"><span class="pre">RESOURCE_SPEC_FILE</span></code>，则使用仪表板脚本中的<span class="target" id="index-1-variable:CTEST_RESOURCE_SPEC_FILE"></span><a class="reference internal" href="../variable/CTEST_RESOURCE_SPEC_FILE.html#variable:CTEST_RESOURCE_SPEC_FILE" title="CTEST_RESOURCE_SPEC_FILE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_RESOURCE_SPEC_FILE</span></code></a>的值。如果没有指定仪表板脚本中的<a class="reference internal" href="#cmdoption-ctest-resource-spec-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">--resource-spec-file</span></code></a>、<code class="docutils literal notranslate"><span class="pre">RESOURCE_SPEC_FILE</span></code>和<span class="target" id="index-2-variable:CTEST_RESOURCE_SPEC_FILE"></span><a class="reference internal" href="../variable/CTEST_RESOURCE_SPEC_FILE.html#variable:CTEST_RESOURCE_SPEC_FILE" title="CTEST_RESOURCE_SPEC_FILE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_RESOURCE_SPEC_FILE</span></code></a>，则使用CMake构建中的<span class="target" id="index-3-variable:CTEST_RESOURCE_SPEC_FILE"></span><a class="reference internal" href="../variable/CTEST_RESOURCE_SPEC_FILE.html#variable:CTEST_RESOURCE_SPEC_FILE" title="CTEST_RESOURCE_SPEC_FILE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_RESOURCE_SPEC_FILE</span></code></a>的值。如果这些都没有指定，则不使用资源规范文件。</p>
<p>资源规范文件必须是一个JSON对象。本文档中的所有例子都假设了以下资源规范文件：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;major&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;minor&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;local&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;gpus&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;slots&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;slots&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;slots&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;crypto_chips&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;card0&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;slots&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The members are:</p>
<p>成员包括：</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">version</span></code></dt><dd><p>包含一个<code class="docutils literal notranslate"><span class="pre">major</span></code>整数字段和一个<code class="docutils literal notranslate"><span class="pre">minor</span></code>整数字段的对象。目前，唯一支持的版本是major <code class="docutils literal notranslate"><span class="pre">1</span></code>, minor <code class="docutils literal notranslate"><span class="pre">0</span></code>。任何其他值都是错误的。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">local</span></code></dt><dd><p>系统上呈现的资源集的JSON数组。目前，这个数组的大小被限制为1。</p>
<p>每个数组元素都是一个JSON对象，其成员的名称等于所需的资源类型，例如<code class="docutils literal notranslate"><span class="pre">gpus</span></code>。这些名称必须以小写字母或下划线开头，后面的字符可以是小写字母、数字或下划线。不允许使用大写字母，因为某些平台有不区分大小写的环境变量。有关更多信息，请参阅下面的<a class="reference internal" href="#id24">环境变量</a>部分。建议资源类型名称为名词的复数形式，如<code class="docutils literal notranslate"><span class="pre">gpus</span></code>或<code class="docutils literal notranslate"><span class="pre">crypto_chips</span></code>（而不是<code class="docutils literal notranslate"><span class="pre">gpu</span></code>或<code class="docutils literal notranslate"><span class="pre">crypto_chip</span></code>）。</p>
<p>请注意，名称<code class="docutils literal notranslate"><span class="pre">gpus</span></code>和<code class="docutils literal notranslate"><span class="pre">crypto_chips</span></code>只是示例，CTest不会以任何方式解释它们。你可以自由地创建任何想要满足自己需求的资源类型。</p>
<p>每种资源类型的值都是由JSON对象组成的JSON数组，每个对象描述指定资源的特定实例。这些对象有以下成员：</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">id</span></code></dt><dd><p>由资源标识符组成的字符串。标识符中的每个字符可以是小写字母、数字或下划线。不允许使用大写字母。</p>
<p>标识符在资源类型中必须是唯一的。但是，它们不必在资源类型之间是唯一的。例如，一个名为<code class="docutils literal notranslate"><span class="pre">0</span></code>的<code class="docutils literal notranslate"><span class="pre">gpus</span></code>资源和一个名为<code class="docutils literal notranslate"><span class="pre">0</span></code>的<code class="docutils literal notranslate"><span class="pre">crypto_chips</span></code>资源是有效的，但不能两个都名为<code class="docutils literal notranslate"><span class="pre">0</span></code>的<code class="docutils literal notranslate"><span class="pre">gpus</span></code>资源。</p>
<p>请注意，ID <code class="docutils literal notranslate"><span class="pre">0</span></code>、<code class="docutils literal notranslate"><span class="pre">1</span></code>、<code class="docutils literal notranslate"><span class="pre">2</span></code>、<code class="docutils literal notranslate"><span class="pre">3</span></code>和<code class="docutils literal notranslate"><span class="pre">card0</span></code>只是示例，CTest不会以任何方式解释它们。你可以自由地创建任何你想要的ID来满足你自己的需求。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">slots</span></code></dt><dd><p>一个可选的无符号数，指定资源上可用的插槽数。例如，这可能是GPU上的兆字节RAM，或者是加密芯片上可用的加密单元。如果未指定<code class="docutils literal notranslate"><span class="pre">slots</span></code>，则假定缺省值为<code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
</dd>
</dl>
</dd>
</dl>
<p>在上面的示例文件中，有四个ID为0到3的GPU。GPU 0有2个槽位，GPU 1有4个槽位，GPU 2有2个槽位，GPU 3默认有1个槽位。还有一个带4插槽的密码芯片。</p>
</section>
<section id="resource-groups">
<h3><a class="toc-backref" href="#id53" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">RESOURCE_GROUPS</span></code>属性</a><a class="headerlink" href="#resource-groups" title="Link to this heading">¶</a></h3>
<p>有关此属性的描述，请参阅<span class="target" id="index-1-prop_test:RESOURCE_GROUPS"></span><a class="reference internal" href="../prop_test/RESOURCE_GROUPS.html#prop_test:RESOURCE_GROUPS" title="RESOURCE_GROUPS"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">RESOURCE_GROUPS</span></code></a>。</p>
</section>
<section id="ctest-resource-environment-variables">
<span id="id24"></span><h3><a class="toc-backref" href="#id54" role="doc-backlink">环境变量</a><a class="headerlink" href="#ctest-resource-environment-variables" title="Link to this heading">¶</a></h3>
<p>一旦CTest决定将哪些资源分配给测试，它就会将这些信息作为一系列环境变量传递给测试可执行文件。对于下面的每个示例，我们将假设所讨论的测试的<span class="target" id="index-2-prop_test:RESOURCE_GROUPS"></span><a class="reference internal" href="../prop_test/RESOURCE_GROUPS.html#prop_test:RESOURCE_GROUPS" title="RESOURCE_GROUPS"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">RESOURCE_GROUPS</span></code></a>属性为<code class="docutils literal notranslate"><span class="pre">2,gpus:2;gpus:4,gpus:1,crypto_chips:2</span></code>。</p>
<p>以下变量被传递给测试过程：</p>
<dl class="cmake envvar">
<dt class="sig sig-object cmake" id="envvar:CTEST_RESOURCE_GROUP_COUNT">
<span class="sig-name descname"><span class="pre">CTEST_RESOURCE_GROUP_COUNT</span></span><a class="headerlink" href="#envvar:CTEST_RESOURCE_GROUP_COUNT" title="Link to this definition">¶</a></dt>
<dd><p><span class="target" id="index-3-prop_test:RESOURCE_GROUPS"></span><a class="reference internal" href="../prop_test/RESOURCE_GROUPS.html#prop_test:RESOURCE_GROUPS" title="RESOURCE_GROUPS"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">RESOURCE_GROUPS</span></code></a>属性指定的组的总数。例如：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_COUNT=3</span></code></p></li>
</ul>
<p>只有在给<span class="target" id="index-0-manual:ctest(1)"></span><a class="reference internal" href="#manual:ctest(1)" title="ctest(1)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">ctest(1)</span></code></a>指定了<code class="docutils literal notranslate"><span class="pre">--resource-spec-file</span></code>，或者给<span class="target" id="index-4-command:ctest_test"></span><a class="reference internal" href="../command/ctest_test.html#command:ctest_test" title="ctest_test"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">ctest_test()</span></code></a>指定了<code class="docutils literal notranslate"><span class="pre">RESOURCE_SPEC_FILE</span></code>时，才会定义这个变量。如果没有给出资源规范文件，则不会定义该变量。</p>
</dd></dl>

<dl class="cmake envvar">
<dt class="sig sig-object cmake" id="envvar:CTEST_RESOURCE_GROUP_&lt;num&gt;">
<span class="sig-name descname"><span class="pre">CTEST_RESOURCE_GROUP_&lt;num&gt;</span></span><a class="headerlink" href="#envvar:CTEST_RESOURCE_GROUP_<num>" title="Link to this definition">¶</a></dt>
<dd><p>分配给每个组的资源类型列表，每个项之间用逗号分隔。<code class="docutils literal notranslate"><span class="pre">&lt;num&gt;</span></code>是一个从零到<code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_COUNT</span></code>减一的数字。<code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_&lt;num&gt;</span></code>是为这个范围中的每个<code class="docutils literal notranslate"><span class="pre">&lt;num&gt;</span></code>定义的。例如：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_0=gpus</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_1=gpus</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_2=crypto_chips,gpus</span></code></p></li>
</ul>
</dd></dl>

<dl class="cmake envvar">
<dt class="sig sig-object cmake" id="envvar:CTEST_RESOURCE_GROUP_&lt;num&gt;_&lt;resource-type&gt;">
<span class="sig-name descname"><span class="pre">CTEST_RESOURCE_GROUP_&lt;num&gt;_&lt;resource-type&gt;</span></span><a class="headerlink" href="#envvar:CTEST_RESOURCE_GROUP_<num>_<resource-type>" title="Link to this definition">¶</a></dt>
<dd><p>资源ID的列表和分配给给定资源类型的每个组的每个ID的插槽数量。这个变量由一系列对组成，每一对由分号分隔，其中的两个项目由逗号分隔。每对中的第一项是<code class="docutils literal notranslate"><span class="pre">id:</span></code>后面是类型为<code class="docutils literal notranslate"><span class="pre">&lt;resource-type&gt;</span></code>的资源的ID，第二项是<code class="docutils literal notranslate"><span class="pre">slots:</span></code>后面是分配给给定组的资源的插槽数。例如：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_0_GPUS=id:0,slots:2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_1_GPUS=id:2,slots:2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_2_GPUS=id:1,slots:4;id:3,slots:1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_2_CRYPTO_CHIPS=id:card0,slots:2</span></code></p></li>
</ul>
<p>在本例中，组0从GPU <code class="docutils literal notranslate"><span class="pre">0</span></code>获得2个插槽，组1从GPU <code class="docutils literal notranslate"><span class="pre">2</span></code>获得2个插槽，组2从GPU <code class="docutils literal notranslate"><span class="pre">1</span></code>获得4个插槽，从GPU <code class="docutils literal notranslate"><span class="pre">3</span></code>获得1个插槽，从加密芯片<code class="docutils literal notranslate"><span class="pre">card0</span></code>获得2个插槽。</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;num&gt;</span></code>是一个从零到<code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_COUNT</span></code>减一的数字。<code class="docutils literal notranslate"><span class="pre">&lt;resource-type&gt;</span></code>是资源类型的名称，转换成大写。<code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_&lt;num&gt;_&lt;resource-type&gt;</span></code>是为上面列出的范围中的每个<code class="docutils literal notranslate"><span class="pre">&lt;num&gt;</span></code>和<code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_&lt;num&gt;</span></code>中列出的每个资源类型的乘积定义的。</p>
<p>由于某些平台对环境变量具有不区分大小写的名称，因此资源类型的名称在不区分大小写的环境中可能不会冲突。因此，为了简单起见，在<a class="reference internal" href="#ctest-resource-specification-file"><span class="std std-ref">资源规范文件</span></a>和<span class="target" id="index-4-prop_test:RESOURCE_GROUPS"></span><a class="reference internal" href="../prop_test/RESOURCE_GROUPS.html#prop_test:RESOURCE_GROUPS" title="RESOURCE_GROUPS"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">RESOURCE_GROUPS</span></code></a>属性中，所有资源类型都必须以小写形式列出，并且在<code class="docutils literal notranslate"><span class="pre">CTEST_RESOURCE_GROUP_&lt;num&gt;_&lt;resource-type&gt;</span></code>环境变量中将它们全部转换为大写形式。</p>
</dd></dl>

</section>
<section id="ctest-resource-dynamically-generated-spec-file">
<span id="id25"></span><h3><a class="toc-backref" href="#id55" role="doc-backlink">动态生成的资源规范文件</a><a class="headerlink" href="#ctest-resource-dynamically-generated-spec-file" title="Link to this heading">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">在 3.28 版本加入.</span></p>
</div>
<p>项目可以选择指定单个测试，该测试将用于动态生成资源规范文件，CTest将使用该文件调度使用资源的测试。生成文件的测试必须设置<span class="target" id="index-0-prop_test:GENERATED_RESOURCE_SPEC_FILE"></span><a class="reference internal" href="../prop_test/GENERATED_RESOURCE_SPEC_FILE.html#prop_test:GENERATED_RESOURCE_SPEC_FILE" title="GENERATED_RESOURCE_SPEC_FILE"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">GENERATED_RESOURCE_SPEC_FILE</span></code></a>属性，并且在其<span class="target" id="index-0-prop_test:FIXTURES_SETUP"></span><a class="reference internal" href="../prop_test/FIXTURES_SETUP.html#prop_test:FIXTURES_SETUP" title="FIXTURES_SETUP"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">FIXTURES_SETUP</span></code></a>属性中必须只有一个fixture。CTest认为这个fixture具有特殊的含义：它是生成资源规范文件的fixture。fixture可以有任何名称。如果存在这样的fixture，那么设置了<span class="target" id="index-5-prop_test:RESOURCE_GROUPS"></span><a class="reference internal" href="../prop_test/RESOURCE_GROUPS.html#prop_test:RESOURCE_GROUPS" title="RESOURCE_GROUPS"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">RESOURCE_GROUPS</span></code></a>的所有测试必须在其<span class="target" id="index-0-prop_test:FIXTURES_REQUIRED"></span><a class="reference internal" href="../prop_test/FIXTURES_REQUIRED.html#prop_test:FIXTURES_REQUIRED" title="FIXTURES_REQUIRED"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">FIXTURES_REQUIRED</span></code></a>中包含该fixture，并且资源规范文件不能使用<code class="docutils literal notranslate"><span class="pre">--resource-spec-file</span></code>参数或<span class="target" id="index-4-variable:CTEST_RESOURCE_SPEC_FILE"></span><a class="reference internal" href="../variable/CTEST_RESOURCE_SPEC_FILE.html#variable:CTEST_RESOURCE_SPEC_FILE" title="CTEST_RESOURCE_SPEC_FILE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CTEST_RESOURCE_SPEC_FILE</span></code></a>变量指定。</p>
</section>
</section>
<section id="ctest-job-server-integration">
<span id="id26"></span><h2><a class="toc-backref" href="#id56" role="doc-backlink">作业服务器集成</a><a class="headerlink" href="#ctest-job-server-integration" title="Link to this heading">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">在 3.29 版本加入.</span></p>
</div>
<p>在POSIX系统上，当在<a class="reference external" href="https://www.gnu.org/software/make/manual/html_node/Job-Slots.html">Job Server</a>上下文中运行时，CTest共享其作业槽。这独立于<span class="target" id="index-3-prop_test:PROCESSORS"></span><a class="reference internal" href="../prop_test/PROCESSORS.html#prop_test:PROCESSORS" title="PROCESSORS"><code class="xref cmake cmake-prop_test docutils literal notranslate"><span class="pre">PROCESSORS</span></code></a>测试属性，该属性仍然对CTest的<a class="reference internal" href="#cmdoption-ctest-j"><code class="xref std std-option docutils literal notranslate"><span class="pre">-j</span></code></a>并行级别进行计数。CTest在运行每个测试之前从作业服务器获取一个令牌，并在测试结束时返回它。</p>
<p>例如，考虑<code class="docutils literal notranslate"><span class="pre">Makefile</span></code>：</p>
<div class="highlight-make notranslate"><div class="highlight"><pre><span></span><span class="nf">test</span><span class="o">:</span>
<span class="w">	</span>+ctest<span class="w"> </span>-j<span class="w"> </span><span class="m">8</span>
</pre></div>
</div>
<p>当通过<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">-j</span> <span class="pre">2</span> <span class="pre">test</span></code>调用时，<code class="docutils literal notranslate"><span class="pre">ctest</span></code>连接到作业服务器，为每个测试获取一个令牌，并同时运行最多2个测试。</p>
<p>在Windows系统上，作业服务器集成尚未实现。</p>
</section>
<section id="id27">
<h2><a class="toc-backref" href="#id57" role="doc-backlink">另请参阅</a><a class="headerlink" href="#id27" title="Link to this heading">¶</a></h2>
<p>使用CMake过程中可以获得以下资源：</p>
<dl>
<dt>官网</dt><dd><p><a class="reference external" href="https://cmake.org">https://cmake.org</a></p>
<p>学习CMake的重要起点。</p>
</dd>
<dt>在线文档和社区资源</dt><dd><p><a class="reference external" href="https://cmake.org/documentation">https://cmake.org/documentation</a></p>
<p>在这个网页上可以找到可用文档和社区资源的链接。</p>
</dd>
<dt>论坛</dt><dd><p><a class="reference external" href="https://discourse.cmake.org">https://discourse.cmake.org</a></p>
<p>专注CMake的讨论和问题的论坛。</p>
</dd>
</dl>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">ctest(1)</a><ul>
<li><a class="reference internal" href="#id2">简介</a></li>
<li><a class="reference internal" href="#id3">描述</a></li>
<li><a class="reference internal" href="#run-tests">运行测试</a></li>
<li><a class="reference internal" href="#id5">查看帮助</a></li>
<li><a class="reference internal" href="#label-matching">标签匹配</a></li>
<li><a class="reference internal" href="#label-and-subproject-summary">标签和子项目摘要</a></li>
<li><a class="reference internal" href="#build-and-test-mode">构建和测试模式</a></li>
<li><a class="reference internal" href="#dashboard-client">仪表板客户端</a><ul>
<li><a class="reference internal" href="#id10">仪表板客户端步骤</a></li>
<li><a class="reference internal" href="#id11">仪表板客户端模式</a></li>
<li><a class="reference internal" href="#ctest">通过CTest命令行运行仪表板客户端</a></li>
<li><a class="reference internal" href="#ctest-script">通过CTest脚本运行仪表板客户端</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id13">仪表板客户端配置</a><ul>
<li><a class="reference internal" href="#ctest-start-step">CTest开始步骤</a></li>
<li><a class="reference internal" href="#ctest-update-step">CTest更新步骤</a></li>
<li><a class="reference internal" href="#ctest-configure-step">CTest配置步骤</a></li>
<li><a class="reference internal" href="#ctest-build-step">CTest构建步骤</a></li>
<li><a class="reference internal" href="#ctest-test-step">CTest测试步骤</a></li>
<li><a class="reference internal" href="#ctest-coverage-step">CTest覆盖步骤</a></li>
<li><a class="reference internal" href="#ctest-memcheck-step">CTest内存测试步骤</a></li>
<li><a class="reference internal" href="#ctest-submit-step">CTest提交步骤</a></li>
</ul>
</li>
<li><a class="reference internal" href="#json">显示为JSON对象模型</a></li>
<li><a class="reference internal" href="#ctest-resource-allocation">资源分配</a><ul>
<li><a class="reference internal" href="#ctest-resource-specification-file">资源规格文件</a></li>
<li><a class="reference internal" href="#resource-groups"><code class="docutils literal notranslate"><span class="pre">RESOURCE_GROUPS</span></code>属性</a></li>
<li><a class="reference internal" href="#ctest-resource-environment-variables">环境变量</a></li>
<li><a class="reference internal" href="#ctest-resource-dynamically-generated-spec-file">动态生成的资源规范文件</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ctest-job-server-integration">作业服务器集成</a></li>
<li><a class="reference internal" href="#id27">另请参阅</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一主题</h4>
    <p class="topless"><a href="cmake.1.html"
                          title="上一章">cmake(1)</a></p>
  </div>
  <div>
    <h4>下一主题</h4>
    <p class="topless"><a href="cpack.1.html"
                          title="下一章">cpack(1)</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/manual/ctest.1.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="提交" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             >索引</a></li>
        <li class="right" >
          <a href="cpack.1.html" title="cpack(1)"
             >下一页</a> |</li>
        <li class="right" >
          <a href="cmake.1.html" title="cmake(1)"
             >上一页</a> |</li>
  <li>
    <img src="../_static/cmake-logo-16.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="https://cmake.org/">CMake</a> &#187;
  </li>
  <li>
    <a href="../index.html">3.29.1-g21d0c57 Documentation</a> &#187;
  </li>

        <li class="nav-item nav-item-this"><a href="">ctest(1)</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
    &#169; 版权所有 2000-2024 Kitware, Inc. and Contributors.
      由 <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6创建。
    </div>
  </body>
</html>