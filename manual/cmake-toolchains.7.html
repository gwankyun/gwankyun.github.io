<!DOCTYPE html>

<html lang="zh-CN" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>cmake-toolchains(7) &mdash; CMake 3.29.1-g21d0c57 Documentation</title>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a2c47e09" />
    <link rel="stylesheet" type="text/css" href="../_static/cmake.css?v=3e562cf9" />
    
    <script src="../_static/documentation_options.js?v=17f7ec5f"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    
    <link rel="icon" href="../_static/cmake-favicon.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="cmake-variables(7)" href="cmake-variables.7.html" />
    <link rel="prev" title="cmake-server(7)" href="cmake-server.7.html" />
 

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="cmake-variables.7.html" title="cmake-variables(7)"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="cmake-server.7.html" title="cmake-server(7)"
             accesskey="P">上一页</a> |</li>
  <li>
    <img src="../_static/cmake-logo-16.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="https://cmake.org/">CMake</a> &#187;
  </li>
  <li>
    <a href="../index.html">3.29.1-g21d0c57 Documentation</a> &#187;
  </li>

        <li class="nav-item nav-item-this"><a href="">cmake-toolchains(7)</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="manual:cmake-toolchains(7)"></span><section id="cmake-toolchains-7">
<h1><a class="toc-backref" href="#id10" role="doc-backlink">cmake-toolchains(7)</a><a class="headerlink" href="#cmake-toolchains-7" title="Link to this heading">¶</a></h1>
<nav class="contents" id="id1">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#cmake-toolchains-7" id="id10">cmake-toolchains(7)</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id11">引言</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id12">语言</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id13">变量和属性</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id14">工具链特性</a></p></li>
<li><p><a class="reference internal" href="#cross-compiling-toolchain" id="id15">交叉编译</a></p>
<ul>
<li><p><a class="reference internal" href="#linux" id="id16">Linux交叉编译</a></p></li>
<li><p><a class="reference internal" href="#cray-linux" id="id17">Cray Linux环境交叉编译</a></p></li>
<li><p><a class="reference internal" href="#clang" id="id18">使用Clang交叉编译</a></p></li>
<li><p><a class="reference internal" href="#qnx" id="id19">QNX交叉编译</a></p></li>
<li><p><a class="reference internal" href="#windows-ce" id="id20">Windows CE交叉编译</a></p></li>
<li><p><a class="reference internal" href="#windows-10" id="id21">Windows 10通用应用交叉编译</a></p></li>
<li><p><a class="reference internal" href="#windows-phone" id="id22">Windows Phone交叉编译</a></p></li>
<li><p><a class="reference internal" href="#windows-store" id="id23">Windows Store交叉编译</a></p></li>
<li><p><a class="reference internal" href="#adsp-sharc-blackfin" id="id24">ADSP SHARC/Blackfin交叉编译</a></p></li>
<li><p><a class="reference internal" href="#android" id="id25">Android交叉编译</a></p>
<ul>
<li><p><a class="reference internal" href="#ndkandroid" id="id26">使用NDK交叉编译Android</a></p></li>
<li><p><a class="reference internal" href="#cross-compiling-for-android-with-a-standalone-toolchain" id="id27">使用单独工具链交叉编译Android</a></p></li>
<li><p><a class="reference internal" href="#nvidia-nsight-tegra-visual-studioandroid" id="id28">使用NVIDIA Nsight Tegra Visual Studio版本交叉编译Android</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#iostvosvisionoswatchos" id="id29">交叉编译iOS、tvOS、visionOS或watchOS</a></p>
<ul>
<li><p><a class="reference internal" href="#id8" id="id30">代码签名</a></p></li>
<li><p><a class="reference internal" href="#switching-between-device-and-simulator" id="id31">在设备和模拟器之间切换</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="id2">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">引言</a><a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<p>CMake使用工具链来编译、链接库和创建存档，以及其他任务来驱动构建。可用的工具链实用程序由启用的语言决定。在正常构建中，CMake基于系统自省和默认值自动确定主机构建的工具链。在交叉编译场景中，可以使用编译器和工具程序路径信息指定工具链文件。</p>
<div class="versionadded">
<p><span class="versionmodified added">在 3.19 版本加入: </span>可以使用<span class="target" id="index-0-manual:cmake-presets(7)"></span><a class="reference internal" href="cmake-presets.7.html#manual:cmake-presets(7)" title="cmake-presets(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake-presets(7)</span></code></a>来指定工具链文件。</p>
</div>
</section>
<section id="id3">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">语言</a><a class="headerlink" href="#id3" title="Link to this heading">¶</a></h2>
<p>语言是通过<span class="target" id="index-0-command:project"></span><a class="reference internal" href="../command/project.html#command:project" title="project"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">project()</span></code></a>命令启用的。特定于语言的内置变量，如<span class="target" id="index-0-variable:CMAKE_&lt;LANG&gt;_COMPILER"></span><a class="reference internal" href="../variable/CMAKE_LANG_COMPILER.html#variable:CMAKE_&lt;LANG&gt;_COMPILER" title="CMAKE_&lt;LANG&gt;_COMPILER"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_CXX_COMPILER</span></code></a>、<span class="target" id="index-0-variable:CMAKE_&lt;LANG&gt;_COMPILER_ID"></span><a class="reference internal" href="../variable/CMAKE_LANG_COMPILER_ID.html#variable:CMAKE_&lt;LANG&gt;_COMPILER_ID" title="CMAKE_&lt;LANG&gt;_COMPILER_ID"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_CXX_COMPILER_ID</span></code></a>等，可以通过调用<span class="target" id="index-1-command:project"></span><a class="reference internal" href="../command/project.html#command:project" title="project"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">project()</span></code></a>命令来设置。如果顶层CMakeLists文件中没有项目命令，则会隐式生成一个。默认情况下，启用的语言是<code class="docutils literal notranslate"><span class="pre">C</span></code>和<code class="docutils literal notranslate"><span class="pre">CXX</span></code>：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">project(</span><span class="nb">C_Only</span><span class="w"> </span><span class="no">C</span><span class="nf">)</span>
</pre></div>
</div>
<p>特殊值<code class="docutils literal notranslate"><span class="pre">NONE</span></code>也可以与<span class="target" id="index-2-command:project"></span><a class="reference internal" href="../command/project.html#command:project" title="project"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">project()</span></code></a>命令一起使用，以启用无语言：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">project(</span><span class="nb">MyProject</span><span class="w"> </span><span class="no">NONE</span><span class="nf">)</span>
</pre></div>
</div>
<p><span class="target" id="index-0-command:enable_language"></span><a class="reference internal" href="../command/enable_language.html#command:enable_language" title="enable_language"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">enable_language()</span></code></a>命令可用于在<span class="target" id="index-3-command:project"></span><a class="reference internal" href="../command/project.html#command:project" title="project"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">project()</span></code></a>命令之后启用语言：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">enable_language(</span><span class="no">CXX</span><span class="nf">)</span>
</pre></div>
</div>
<p>当一种语言被启用时，CMake为该语言找到一个编译器，并确定一些信息，如编译器的供应商和版本、目标体系结构和位宽、相应实用程序的位置等。</p>
<p><span class="target" id="index-0-prop_gbl:ENABLED_LANGUAGES"></span><a class="reference internal" href="../prop_gbl/ENABLED_LANGUAGES.html#prop_gbl:ENABLED_LANGUAGES" title="ENABLED_LANGUAGES"><code class="xref cmake cmake-prop_gbl docutils literal notranslate"><span class="pre">ENABLED_LANGUAGES</span></code></a>全局属性包含当前启用的语言。</p>
</section>
<section id="id4">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">变量和属性</a><a class="headerlink" href="#id4" title="Link to this heading">¶</a></h2>
<p>有几个变量与工具链的语言组件相关，这些组件是启用的：</p>
<dl class="simple">
<dt><span class="target" id="index-1-variable:CMAKE_&lt;LANG&gt;_COMPILER"></span><a class="reference internal" href="../variable/CMAKE_LANG_COMPILER.html#variable:CMAKE_&lt;LANG&gt;_COMPILER" title="CMAKE_&lt;LANG&gt;_COMPILER"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_COMPILER</span></code></a></dt><dd><p>用于<code class="docutils literal notranslate"><span class="pre">&lt;LANG&gt;</span></code>的编译器的完整路径</p>
</dd>
<dt><span class="target" id="index-1-variable:CMAKE_&lt;LANG&gt;_COMPILER_ID"></span><a class="reference internal" href="../variable/CMAKE_LANG_COMPILER_ID.html#variable:CMAKE_&lt;LANG&gt;_COMPILER_ID" title="CMAKE_&lt;LANG&gt;_COMPILER_ID"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_COMPILER_ID</span></code></a></dt><dd><p>CMake使用的编译器标识符</p>
</dd>
<dt><span class="target" id="index-0-variable:CMAKE_&lt;LANG&gt;_COMPILER_VERSION"></span><a class="reference internal" href="../variable/CMAKE_LANG_COMPILER_VERSION.html#variable:CMAKE_&lt;LANG&gt;_COMPILER_VERSION" title="CMAKE_&lt;LANG&gt;_COMPILER_VERSION"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_COMPILER_VERSION</span></code></a></dt><dd><p>编译器的版本。</p>
</dd>
<dt><span class="target" id="index-0-variable:CMAKE_&lt;LANG&gt;_FLAGS"></span><a class="reference internal" href="../variable/CMAKE_LANG_FLAGS.html#variable:CMAKE_&lt;LANG&gt;_FLAGS" title="CMAKE_&lt;LANG&gt;_FLAGS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_FLAGS</span></code></a></dt><dd><p>变量和特定于配置的等效物，包含在编译特定语言的文件时将被添加到编译命令中的标志。</p>
</dd>
</dl>
<p>CMake需要一种方法来确定使用哪个编译器来调用链接器。这是由<span class="target" id="index-0-manual:cmake-buildsystem(7)"></span><a class="reference internal" href="cmake-buildsystem.7.html#manual:cmake-buildsystem(7)" title="cmake-buildsystem(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">目标</span></code></a>源文件的<span class="target" id="index-0-prop_sf:LANGUAGE"></span><a class="reference internal" href="../prop_sf/LANGUAGE.html#prop_sf:LANGUAGE" title="LANGUAGE"><code class="xref cmake cmake-prop_sf docutils literal notranslate"><span class="pre">LANGUAGE</span></code></a>属性决定的，在静态库的情况下，是由依赖库的<code class="docutils literal notranslate"><span class="pre">LANGUAGE</span></code>属性决定的。CMake做出的选择可能会被<span class="target" id="index-0-prop_tgt:LINKER_LANGUAGE"></span><a class="reference internal" href="../prop_tgt/LINKER_LANGUAGE.html#prop_tgt:LINKER_LANGUAGE" title="LINKER_LANGUAGE"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">LINKER_LANGUAGE</span></code></a>目标属性覆盖。</p>
</section>
<section id="id5">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">工具链特性</a><a class="headerlink" href="#id5" title="Link to this heading">¶</a></h2>
<p>CMake提供了<span class="target" id="index-0-command:try_compile"></span><a class="reference internal" href="../command/try_compile.html#command:try_compile" title="try_compile"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">try_compile()</span></code></a>命令和包装器宏，如<span class="target" id="index-0-module:CheckSourceCompiles"></span><a class="reference internal" href="../module/CheckSourceCompiles.html#module:CheckSourceCompiles" title="CheckSourceCompiles"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CheckSourceCompiles</span></code></a>、<span class="target" id="index-0-module:CheckCXXSymbolExists"></span><a class="reference internal" href="../module/CheckCXXSymbolExists.html#module:CheckCXXSymbolExists" title="CheckCXXSymbolExists"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CheckCXXSymbolExists</span></code></a>和<span class="target" id="index-0-module:CheckIncludeFile"></span><a class="reference internal" href="../module/CheckIncludeFile.html#module:CheckIncludeFile" title="CheckIncludeFile"><code class="xref cmake cmake-module docutils literal notranslate"><span class="pre">CheckIncludeFile</span></code></a>来测试各种工具链功能的能力和可用性。这些API以某种方式测试工具链并缓存结果，以便下次CMake运行时不必再次执行测试。</p>
<p>一些工具链特性在CMake中有内置处理，不需要编译测试。例如，<span class="target" id="index-0-prop_tgt:POSITION_INDEPENDENT_CODE"></span><a class="reference internal" href="../prop_tgt/POSITION_INDEPENDENT_CODE.html#prop_tgt:POSITION_INDEPENDENT_CODE" title="POSITION_INDEPENDENT_CODE"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">POSITION_INDEPENDENT_CODE</span></code></a>允许指定目标应该构建为位置无关的代码，如果编译器支持该特性。<span class="target" id="index-0-prop_tgt:&lt;LANG&gt;_VISIBILITY_PRESET"></span><a class="reference internal" href="../prop_tgt/LANG_VISIBILITY_PRESET.html#prop_tgt:&lt;LANG&gt;_VISIBILITY_PRESET" title="&lt;LANG&gt;_VISIBILITY_PRESET"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">&lt;LANG&gt;_VISIBILITY_PRESET</span></code></a>和<span class="target" id="index-0-prop_tgt:VISIBILITY_INLINES_HIDDEN"></span><a class="reference internal" href="../prop_tgt/VISIBILITY_INLINES_HIDDEN.html#prop_tgt:VISIBILITY_INLINES_HIDDEN" title="VISIBILITY_INLINES_HIDDEN"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">VISIBILITY_INLINES_HIDDEN</span></code></a>目标属性添加了隐藏可见性的标志，如果编译器支持的话。</p>
</section>
<section id="cross-compiling-toolchain">
<span id="id6"></span><h2><a class="toc-backref" href="#id15" role="doc-backlink">交叉编译</a><a class="headerlink" href="#cross-compiling-toolchain" title="Link to this heading">¶</a></h2>
<p>如果使用命令行参数<a class="reference internal" href="cmake.1.html#cmdoption-cmake-toolchain"><code class="xref std std-option docutils literal notranslate"><span class="pre">--toolchain</span> <span class="pre">path/to/file</span></code></a>或<a class="reference internal" href="cmake.1.html#cmdoption-cmake-D"><code class="xref std std-option docutils literal notranslate"><span class="pre">-DCMAKE_TOOLCHAIN_FILE=path/to/file</span></code></a>调用<span class="target" id="index-0-manual:cmake(1)"></span><a class="reference internal" href="cmake.1.html#manual:cmake(1)" title="cmake(1)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">cmake(1)</span></code></a>，文件将提前加载以为编译器设置值。当CMake进行交叉编译时，<span class="target" id="index-0-variable:CMAKE_CROSSCOMPILING"></span><a class="reference internal" href="../variable/CMAKE_CROSSCOMPILING.html#variable:CMAKE_CROSSCOMPILING" title="CMAKE_CROSSCOMPILING"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_CROSSCOMPILING</span></code></a>变量被设置为true。</p>
<p>注意，在工具链文件中使用<span class="target" id="index-0-variable:CMAKE_SOURCE_DIR"></span><a class="reference internal" href="../variable/CMAKE_SOURCE_DIR.html#variable:CMAKE_SOURCE_DIR" title="CMAKE_SOURCE_DIR"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SOURCE_DIR</span></code></a>或<span class="target" id="index-0-variable:CMAKE_BINARY_DIR"></span><a class="reference internal" href="../variable/CMAKE_BINARY_DIR.html#variable:CMAKE_BINARY_DIR" title="CMAKE_BINARY_DIR"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_BINARY_DIR</span></code></a>变量通常是不可取的。工具链文件用于这些变量在不同地方使用时具有不同值的上下文中（例如，作为调用<span class="target" id="index-1-command:try_compile"></span><a class="reference internal" href="../command/try_compile.html#command:try_compile" title="try_compile"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">try_compile()</span></code></a>的一部分）。在大多数情况下，当需要计算工具链文件中的路径时，更合适的变量是<span class="target" id="index-0-variable:CMAKE_CURRENT_LIST_DIR"></span><a class="reference internal" href="../variable/CMAKE_CURRENT_LIST_DIR.html#variable:CMAKE_CURRENT_LIST_DIR" title="CMAKE_CURRENT_LIST_DIR"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_CURRENT_LIST_DIR</span></code></a>，因为它总是有一个明确的、可预测的值。</p>
<section id="linux">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Linux交叉编译</a><a class="headerlink" href="#linux" title="Link to this heading">¶</a></h3>
<p>典型的Linux交叉编译工具链包含如下内容：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span><span class="no">CMAKE_SYSTEM_NAME</span><span class="w"> </span><span class="nb">Linux</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_SYSTEM_PROCESSOR</span><span class="w"> </span><span class="nb">arm</span><span class="nf">)</span>

<span class="nf">set(</span><span class="no">CMAKE_SYSROOT</span><span class="w"> </span><span class="na">/home/devel/rasp-pi-rootfs</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_STAGING_PREFIX</span><span class="w"> </span><span class="na">/home/devel/stage</span><span class="nf">)</span>

<span class="nf">set(</span><span class="nb">tools</span><span class="w"> </span><span class="na">/home/devel/gcc-4.7-linaro-rpi-gnueabihf</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_C_COMPILER</span><span class="w"> </span><span class="o">${</span><span class="nt">tools</span><span class="o">}</span><span class="na">/bin/arm-linux-gnueabihf-gcc</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_CXX_COMPILER</span><span class="w"> </span><span class="o">${</span><span class="nt">tools</span><span class="o">}</span><span class="na">/bin/arm-linux-gnueabihf-g++</span><span class="nf">)</span>

<span class="nf">set(</span><span class="no">CMAKE_FIND_ROOT_PATH_MODE_PROGRAM</span><span class="w"> </span><span class="no">NEVER</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_FIND_ROOT_PATH_MODE_LIBRARY</span><span class="w"> </span><span class="no">ONLY</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_FIND_ROOT_PATH_MODE_INCLUDE</span><span class="w"> </span><span class="no">ONLY</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_FIND_ROOT_PATH_MODE_PACKAGE</span><span class="w"> </span><span class="no">ONLY</span><span class="nf">)</span>
</pre></div>
</div>
<p>Where:</p>
<dl class="simple">
<dt><span class="target" id="index-0-variable:CMAKE_SYSTEM_NAME"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_NAME.html#variable:CMAKE_SYSTEM_NAME" title="CMAKE_SYSTEM_NAME"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_NAME</span></code></a></dt><dd><p>是要构建的目标平台的CMake标识符。</p>
</dd>
<dt><span class="target" id="index-0-variable:CMAKE_SYSTEM_PROCESSOR"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_PROCESSOR.html#variable:CMAKE_SYSTEM_PROCESSOR" title="CMAKE_SYSTEM_PROCESSOR"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_PROCESSOR</span></code></a></dt><dd><p>是目标体系结构的CMake标识符。</p>
</dd>
<dt><span class="target" id="index-0-variable:CMAKE_SYSROOT"></span><a class="reference internal" href="../variable/CMAKE_SYSROOT.html#variable:CMAKE_SYSROOT" title="CMAKE_SYSROOT"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSROOT</span></code></a></dt><dd><p>是可选的，如果sysroot可用，则可以指定。</p>
</dd>
<dt><span class="target" id="index-0-variable:CMAKE_STAGING_PREFIX"></span><a class="reference internal" href="../variable/CMAKE_STAGING_PREFIX.html#variable:CMAKE_STAGING_PREFIX" title="CMAKE_STAGING_PREFIX"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_STAGING_PREFIX</span></code></a></dt><dd><p>也是可选的。它可以用来指定要安装到的主机上的路径。<span class="target" id="index-0-variable:CMAKE_INSTALL_PREFIX"></span><a class="reference internal" href="../variable/CMAKE_INSTALL_PREFIX.html#variable:CMAKE_INSTALL_PREFIX" title="CMAKE_INSTALL_PREFIX"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_INSTALL_PREFIX</span></code></a>始终是运行时安装位置，即使在交叉编译时也是如此。</p>
</dd>
<dt><span class="target" id="index-2-variable:CMAKE_&lt;LANG&gt;_COMPILER"></span><a class="reference internal" href="../variable/CMAKE_LANG_COMPILER.html#variable:CMAKE_&lt;LANG&gt;_COMPILER" title="CMAKE_&lt;LANG&gt;_COMPILER"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_COMPILER</span></code></a></dt><dd><p>变量可以设置为完整路径，也可以设置为要在标准位置中搜索的编译器的名称。对于不支持链接没有自定义标志或脚本的二进制文件的工具链，可以将<span class="target" id="index-0-variable:CMAKE_TRY_COMPILE_TARGET_TYPE"></span><a class="reference internal" href="../variable/CMAKE_TRY_COMPILE_TARGET_TYPE.html#variable:CMAKE_TRY_COMPILE_TARGET_TYPE" title="CMAKE_TRY_COMPILE_TARGET_TYPE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_TRY_COMPILE_TARGET_TYPE</span></code></a>变量设置为<code class="docutils literal notranslate"><span class="pre">STATIC_LIBRARY</span></code>，以告诉CMake在检查期间不要尝试链接可执行文件。</p>
</dd>
</dl>
<p>默认情况下，CMake的<code class="docutils literal notranslate"><span class="pre">find_*</span></code>命令将查找sysroot和<span class="target" id="index-0-variable:CMAKE_FIND_ROOT_PATH"></span><a class="reference internal" href="../variable/CMAKE_FIND_ROOT_PATH.html#variable:CMAKE_FIND_ROOT_PATH" title="CMAKE_FIND_ROOT_PATH"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH</span></code></a>条目，以及查找主机系统根前缀。虽然这可以根据具体情况进行控制，但是在交叉编译时，排除在主机或目标中查找特定工件是很有用的。通常，includes、库和包应该在目标系统前缀中找到，而必须作为构建的一部分运行的可执行文件应该只在主机上找到，而不是在目标系统上。这就是<code class="docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH_MODE_*</span></code>变量的目的。</p>
</section>
<section id="cray-linux">
<span id="cray-cross-compile"></span><h3><a class="toc-backref" href="#id17" role="doc-backlink">Cray Linux环境交叉编译</a><a class="headerlink" href="#cray-linux" title="Link to this heading">¶</a></h3>
<p>在Cray Linux环境中，计算节点的交叉编译无需单独的工具链文件即可完成。在CMake命令行中指定<code class="docutils literal notranslate"><span class="pre">-DCMAKE_SYSTEM_NAME=CrayLinuxEnvironment</span></code>将确保配置适当的构建设置和搜索路径。平台将从当前环境变量中提取其配置，并将配置项目以使用Cray编程环境的<code class="docutils literal notranslate"><span class="pre">PrgEnv-*</span></code>模块中的编译器包装器，如果存在并已加载。</p>
<p>Cray编程环境的默认配置是只支持静态库。可以通过将<code class="docutils literal notranslate"><span class="pre">CRAYPE_LINK_TYPE</span></code>环境变量设置为<code class="docutils literal notranslate"><span class="pre">dynamic</span></code>来覆盖和启用共享库。</p>
<p>运行CMake而不指定<span class="target" id="index-1-variable:CMAKE_SYSTEM_NAME"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_NAME.html#variable:CMAKE_SYSTEM_NAME" title="CMAKE_SYSTEM_NAME"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_NAME</span></code></a>将在主机模式下运行配置步骤（假设是标准Linux环境）。如果不重写，<code class="docutils literal notranslate"><span class="pre">PrgEnv-*</span></code>编译器包装器最终将被使用，如果针对登录节点或计算节点，这可能不是期望的行为。如果你直接在NID上构建，而不是从登录节点进行交叉编译，则会出现例外。如果试图为登录节点构建软件，你需要首先卸载当前加载的<code class="docutils literal notranslate"><span class="pre">PrgEnv-*</span></code>模块，或者显式地告诉CMake使用<code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>中的系统编译器而不是Cray包装器。如果希望以计算节点为目标，只需像上面提到的那样指定<span class="target" id="index-2-variable:CMAKE_SYSTEM_NAME"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_NAME.html#variable:CMAKE_SYSTEM_NAME" title="CMAKE_SYSTEM_NAME"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_NAME</span></code></a>。</p>
</section>
<section id="clang">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">使用Clang交叉编译</a><a class="headerlink" href="#clang" title="Link to this heading">¶</a></h3>
<p>一些编译器（如Clang）本质上是交叉编译器。<span class="target" id="index-0-variable:CMAKE_&lt;LANG&gt;_COMPILER_TARGET"></span><a class="reference internal" href="../variable/CMAKE_LANG_COMPILER_TARGET.html#variable:CMAKE_&lt;LANG&gt;_COMPILER_TARGET" title="CMAKE_&lt;LANG&gt;_COMPILER_TARGET"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_COMPILER_TARGET</span></code></a>可以设置为在编译时向支持的编译器传递一个值：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span><span class="no">CMAKE_SYSTEM_NAME</span><span class="w"> </span><span class="nb">Linux</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_SYSTEM_PROCESSOR</span><span class="w"> </span><span class="nb">arm</span><span class="nf">)</span>

<span class="nf">set(</span><span class="nb">triple</span><span class="w"> </span><span class="nb">arm-linux-gnueabihf</span><span class="nf">)</span>

<span class="nf">set(</span><span class="no">CMAKE_C_COMPILER</span><span class="w"> </span><span class="nb">clang</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_C_COMPILER_TARGET</span><span class="w"> </span><span class="o">${</span><span class="nt">triple</span><span class="o">}</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_CXX_COMPILER</span><span class="w"> </span><span class="nb">clang++</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_CXX_COMPILER_TARGET</span><span class="w"> </span><span class="o">${</span><span class="nt">triple</span><span class="o">}</span><span class="nf">)</span>
</pre></div>
</div>
<p>类似地，一些编译器不附带它们自己的补充工具，比如链接器，但提供了一种方法来指定编译器驱动程序将使用的外部工具链的位置。<span class="target" id="index-0-variable:CMAKE_&lt;LANG&gt;_COMPILER_EXTERNAL_TOOLCHAIN"></span><a class="reference internal" href="../variable/CMAKE_LANG_COMPILER_EXTERNAL_TOOLCHAIN.html#variable:CMAKE_&lt;LANG&gt;_COMPILER_EXTERNAL_TOOLCHAIN" title="CMAKE_&lt;LANG&gt;_COMPILER_EXTERNAL_TOOLCHAIN"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_COMPILER_EXTERNAL_TOOLCHAIN</span></code></a>变量可以在工具链文件中设置，以将路径传递给编译器驱动程序。</p>
</section>
<section id="qnx">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">QNX交叉编译</a><a class="headerlink" href="#qnx" title="Link to this heading">¶</a></h3>
<p>作为Clang编译器，QNX QCC编译器本质上是一个交叉编译器。<span class="target" id="index-1-variable:CMAKE_&lt;LANG&gt;_COMPILER_TARGET"></span><a class="reference internal" href="../variable/CMAKE_LANG_COMPILER_TARGET.html#variable:CMAKE_&lt;LANG&gt;_COMPILER_TARGET" title="CMAKE_&lt;LANG&gt;_COMPILER_TARGET"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_COMPILER_TARGET</span></code></a>可以设置为在编译时向支持的编译器传递一个值：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span><span class="no">CMAKE_SYSTEM_NAME</span><span class="w"> </span><span class="no">QNX</span><span class="nf">)</span>

<span class="nf">set(</span><span class="nb">arch</span><span class="w"> </span><span class="nb">gcc_ntoarmv7le</span><span class="nf">)</span>

<span class="nf">set(</span><span class="no">CMAKE_C_COMPILER</span><span class="w"> </span><span class="nb">qcc</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_C_COMPILER_TARGET</span><span class="w"> </span><span class="o">${</span><span class="nt">arch</span><span class="o">}</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_CXX_COMPILER</span><span class="w"> </span><span class="no">QCC</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_CXX_COMPILER_TARGET</span><span class="w"> </span><span class="o">${</span><span class="nt">arch</span><span class="o">}</span><span class="nf">)</span>

<span class="nf">set(</span><span class="no">CMAKE_SYSROOT</span><span class="w"> </span><span class="o">$ENV{</span><span class="nt">QNX_TARGET</span><span class="o">}</span><span class="nf">)</span>
</pre></div>
</div>
</section>
<section id="windows-ce">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Windows CE交叉编译</a><a class="headerlink" href="#windows-ce" title="Link to this heading">¶</a></h3>
<p>Windows CE的交叉编译需要在系统上安装相应的SDK。这些SDK通常安装在<code class="docutils literal notranslate"><span class="pre">C:/Program</span> <span class="pre">Files</span> <span class="pre">(x86)/Windows</span> <span class="pre">CE</span> <span class="pre">Tools/SDKs</span></code>下。</p>
<p>为Windows CE配置Visual Studio生成器的工具链文件可能如下所示：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span><span class="no">CMAKE_SYSTEM_NAME</span><span class="w"> </span><span class="nb">WindowsCE</span><span class="nf">)</span>

<span class="nf">set(</span><span class="no">CMAKE_SYSTEM_VERSION</span><span class="w"> </span><span class="m">8.0</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_SYSTEM_PROCESSOR</span><span class="w"> </span><span class="nb">arm</span><span class="nf">)</span>

<span class="nf">set(</span><span class="no">CMAKE_GENERATOR_TOOLSET</span><span class="w"> </span><span class="no">CE800</span><span class="nf">)</span><span class="w"> </span><span class="c"># Can be omitted for 8.0</span>
<span class="nf">set(</span><span class="no">CMAKE_GENERATOR_PLATFORM</span><span class="w"> </span><span class="no">SDK_AM335X_SK_WEC2013_V310</span><span class="nf">)</span>
</pre></div>
</div>
<p><span class="target" id="index-0-variable:CMAKE_GENERATOR_PLATFORM"></span><a class="reference internal" href="../variable/CMAKE_GENERATOR_PLATFORM.html#variable:CMAKE_GENERATOR_PLATFORM" title="CMAKE_GENERATOR_PLATFORM"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_GENERATOR_PLATFORM</span></code></a>告诉生成器要使用哪个SDK。进一步<span class="target" id="index-0-variable:CMAKE_SYSTEM_VERSION"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_VERSION.html#variable:CMAKE_SYSTEM_VERSION" title="CMAKE_SYSTEM_VERSION"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_VERSION</span></code></a>告诉生成器要使用哪个版本的Windows CE。目前版本8.0 （Windows Embedded Compact 2013）是开箱即用的。其他版本可能需要将<span class="target" id="index-0-variable:CMAKE_GENERATOR_TOOLSET"></span><a class="reference internal" href="../variable/CMAKE_GENERATOR_TOOLSET.html#variable:CMAKE_GENERATOR_TOOLSET" title="CMAKE_GENERATOR_TOOLSET"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_GENERATOR_TOOLSET</span></code></a>设置为正确的值。</p>
</section>
<section id="windows-10">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Windows 10通用应用交叉编译</a><a class="headerlink" href="#windows-10" title="Link to this heading">¶</a></h3>
<p>为Windows 10通用应用程序配置<a class="reference internal" href="cmake-generators.7.html#visual-studio-generators"><span class="std std-ref">Visual Studio生成器</span></a>的工具链文件可能如下所示：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span><span class="no">CMAKE_SYSTEM_NAME</span><span class="w"> </span><span class="nb">WindowsStore</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_SYSTEM_VERSION</span><span class="w"> </span><span class="m">10.0</span><span class="nf">)</span>
</pre></div>
</div>
<p>Windows 10通用应用程序同时针对Windows Store和Windows Phone。将<span class="target" id="index-1-variable:CMAKE_SYSTEM_VERSION"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_VERSION.html#variable:CMAKE_SYSTEM_VERSION" title="CMAKE_SYSTEM_VERSION"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_VERSION</span></code></a>变量指定为<code class="docutils literal notranslate"><span class="pre">10.0</span></code>或更高。</p>
<p>CMake根据<span class="target" id="index-0-variable:CMAKE_VS_WINDOWS_TARGET_PLATFORM_VERSION"></span><a class="reference internal" href="../variable/CMAKE_VS_WINDOWS_TARGET_PLATFORM_VERSION.html#variable:CMAKE_VS_WINDOWS_TARGET_PLATFORM_VERSION" title="CMAKE_VS_WINDOWS_TARGET_PLATFORM_VERSION"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_VS_WINDOWS_TARGET_PLATFORM_VERSION</span></code></a>变量的文档描述选择Windows SDK。</p>
</section>
<section id="windows-phone">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">Windows Phone交叉编译</a><a class="headerlink" href="#windows-phone" title="Link to this heading">¶</a></h3>
<p>为Windows Phone配置Visual Studio生成器的工具链文件可能是这样的：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span><span class="no">CMAKE_SYSTEM_NAME</span><span class="w"> </span><span class="nb">WindowsPhone</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_SYSTEM_VERSION</span><span class="w"> </span><span class="m">8.1</span><span class="nf">)</span>
</pre></div>
</div>
</section>
<section id="windows-store">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">Windows Store交叉编译</a><a class="headerlink" href="#windows-store" title="Link to this heading">¶</a></h3>
<p>为Windows Store配置Visual Studio生成器的工具链文件可能如下所示：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span><span class="no">CMAKE_SYSTEM_NAME</span><span class="w"> </span><span class="nb">WindowsStore</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_SYSTEM_VERSION</span><span class="w"> </span><span class="m">8.1</span><span class="nf">)</span>
</pre></div>
</div>
</section>
<section id="adsp-sharc-blackfin">
<span id="cross-compiling-for-adsp-sharc-blackfin"></span><h3><a class="toc-backref" href="#id24" role="doc-backlink">ADSP SHARC/Blackfin交叉编译</a><a class="headerlink" href="#adsp-sharc-blackfin" title="Link to this heading">¶</a></h3>
<p>可以通过将<span class="target" id="index-3-variable:CMAKE_SYSTEM_NAME"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_NAME.html#variable:CMAKE_SYSTEM_NAME" title="CMAKE_SYSTEM_NAME"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_NAME</span></code></a>变量设置为<code class="docutils literal notranslate"><span class="pre">ADSP</span></code>，将<span class="target" id="index-1-variable:CMAKE_SYSTEM_PROCESSOR"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_PROCESSOR.html#variable:CMAKE_SYSTEM_PROCESSOR" title="CMAKE_SYSTEM_PROCESSOR"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_PROCESSOR</span></code></a>变量设置为“部件号”来配置ADSP SHARC或Blackfin的交叉编译，不包括<code class="docutils literal notranslate"><span class="pre">ADSP-</span></code>前缀，例如<code class="docutils literal notranslate"><span class="pre">21594</span></code>、<code class="docutils literal notranslate"><span class="pre">SC589</span></code>等。此值不区分大小写。</p>
<p>CMake将自动在默认安装位置搜索CCES或VDSP++安装，并选择找到的最新版本。如果安装了CCES，则将选择CCES而不是VDSP++。可以通过<span class="target" id="index-0-variable:CMAKE_ADSP_ROOT"></span><a class="reference internal" href="../variable/CMAKE_ADSP_ROOT.html#variable:CMAKE_ADSP_ROOT" title="CMAKE_ADSP_ROOT"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ADSP_ROOT</span></code></a>变量或<span class="target" id="index-0-envvar:ADSP_ROOT"></span><a class="reference internal" href="../envvar/ADSP_ROOT.html#envvar:ADSP_ROOT" title="ADSP_ROOT"><code class="xref cmake cmake-envvar docutils literal notranslate"><span class="pre">ADSP_ROOT</span></code></a>环境变量设置自定义安装路径。</p>
<p>编译器（<code class="docutils literal notranslate"><span class="pre">cc21k</span></code>或者<code class="docutils literal notranslate"><span class="pre">ccblkfn</span></code>）是根据提供的<span class="target" id="index-2-variable:CMAKE_SYSTEM_PROCESSOR"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_PROCESSOR.html#variable:CMAKE_SYSTEM_PROCESSOR" title="CMAKE_SYSTEM_PROCESSOR"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_PROCESSOR</span></code></a>值自动选择的。</p>
</section>
<section id="android">
<span id="cross-compiling-for-android"></span><h3><a class="toc-backref" href="#id25" role="doc-backlink">Android交叉编译</a><a class="headerlink" href="#android" title="Link to this heading">¶</a></h3>
<p>工具链文件可以通过将<span class="target" id="index-4-variable:CMAKE_SYSTEM_NAME"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_NAME.html#variable:CMAKE_SYSTEM_NAME" title="CMAKE_SYSTEM_NAME"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_NAME</span></code></a>变量设置为<code class="docutils literal notranslate"><span class="pre">Android</span></code>来配置Android的交叉编译。进一步的配置特定于要使用的Android开发环境。</p>
<p>对于<a class="reference internal" href="cmake-generators.7.html#visual-studio-generators"><span class="std std-ref">Visual Studio生成器</span></a>，CMake希望安装<a class="reference internal" href="#cross-compiling-for-android-with-nvidia-nsight-tegra-visual-studio-edition"><span class="std std-ref">NVIDIA Nsight Tegra
Visual Studio Edition</span></a>或<a class="reference internal" href="#cross-compiling-for-android-with-the-ndk"><span class="std std-ref">Visual Studio tools for Android</span></a>。有关进一步的配置细节，请参阅这些小节。</p>
<p>对于<a class="reference internal" href="cmake-generators.7.html#makefile-generators"><span class="std std-ref">Makefile生成器</span></a>和<span class="target" id="index-0-generator:Ninja"></span><a class="reference internal" href="../generator/Ninja.html#generator:Ninja" title="Ninja"><code class="xref cmake cmake-generator docutils literal notranslate"><span class="pre">Ninja</span></code></a>生成器，CMake期望下列环境之一：</p>
<ul class="simple">
<li><p><a class="reference internal" href="#cross-compiling-for-android-with-the-ndk"><span class="std std-ref">NDK</span></a></p></li>
<li><p><a class="reference internal" href="#cross-compiling-for-android-with-a-standalone-toolchain"><span class="std std-ref">Standalone Toolchain</span></a></p></li>
</ul>
<p>CMake使用以下步骤选择一个环境：</p>
<ul class="simple">
<li><p>如果设置了<span class="target" id="index-0-variable:CMAKE_ANDROID_NDK"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_NDK.html#variable:CMAKE_ANDROID_NDK" title="CMAKE_ANDROID_NDK"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_NDK</span></code></a>变量，将使用指定位置的NDK。</p></li>
<li><p>否则，如果设置了<span class="target" id="index-0-variable:CMAKE_ANDROID_STANDALONE_TOOLCHAIN"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_STANDALONE_TOOLCHAIN.html#variable:CMAKE_ANDROID_STANDALONE_TOOLCHAIN" title="CMAKE_ANDROID_STANDALONE_TOOLCHAIN"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_STANDALONE_TOOLCHAIN</span></code></a>变量，则将使用指定位置的独立工具链。</p></li>
<li><p>否则，如果<span class="target" id="index-1-variable:CMAKE_SYSROOT"></span><a class="reference internal" href="../variable/CMAKE_SYSROOT.html#variable:CMAKE_SYSROOT" title="CMAKE_SYSROOT"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSROOT</span></code></a>变量被设置为一个形式为<code class="docutils literal notranslate"><span class="pre">&lt;ndk&gt;/platforms/android-&lt;api&gt;/arch-&lt;arch&gt;</span></code>的目录，<code class="docutils literal notranslate"><span class="pre">&lt;ndk&gt;</span></code>部分将被用作<span class="target" id="index-1-variable:CMAKE_ANDROID_NDK"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_NDK.html#variable:CMAKE_ANDROID_NDK" title="CMAKE_ANDROID_NDK"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_NDK</span></code></a>的值，并且NDK将被使用。</p></li>
<li><p>否则，如果<span class="target" id="index-2-variable:CMAKE_SYSROOT"></span><a class="reference internal" href="../variable/CMAKE_SYSROOT.html#variable:CMAKE_SYSROOT" title="CMAKE_SYSROOT"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSROOT</span></code></a>变量被设置为一个形式为<code class="docutils literal notranslate"><span class="pre">&lt;standalone-toolchain&gt;/sysroot</span></code>的目录，<code class="docutils literal notranslate"><span class="pre">&lt;standalone-toolchain&gt;</span></code>部分将被用作<span class="target" id="index-1-variable:CMAKE_ANDROID_STANDALONE_TOOLCHAIN"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_STANDALONE_TOOLCHAIN.html#variable:CMAKE_ANDROID_STANDALONE_TOOLCHAIN" title="CMAKE_ANDROID_STANDALONE_TOOLCHAIN"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_STANDALONE_TOOLCHAIN</span></code></a>的值，并且将使用独立工具链。</p></li>
<li><p>否则，如果设置了cmake变量<code class="docutils literal notranslate"><span class="pre">ANDROID_NDK</span></code>，它将被用作<span class="target" id="index-2-variable:CMAKE_ANDROID_NDK"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_NDK.html#variable:CMAKE_ANDROID_NDK" title="CMAKE_ANDROID_NDK"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_NDK</span></code></a>的值，并且NDK将被使用。</p></li>
<li><p>否则，如果设置了cmake变量<code class="docutils literal notranslate"><span class="pre">ANDROID_STANDALONE_TOOLCHAIN</span></code>，它将被用作<span class="target" id="index-2-variable:CMAKE_ANDROID_STANDALONE_TOOLCHAIN"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_STANDALONE_TOOLCHAIN.html#variable:CMAKE_ANDROID_STANDALONE_TOOLCHAIN" title="CMAKE_ANDROID_STANDALONE_TOOLCHAIN"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_STANDALONE_TOOLCHAIN</span></code></a>的值，并且将使用独立工具链。</p></li>
<li><p>否则，如果设置了环境变量<code class="docutils literal notranslate"><span class="pre">ANDROID_NDK_ROOT</span></code>或<code class="docutils literal notranslate"><span class="pre">ANDROID_NDK</span></code>，它将被用作<span class="target" id="index-3-variable:CMAKE_ANDROID_NDK"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_NDK.html#variable:CMAKE_ANDROID_NDK" title="CMAKE_ANDROID_NDK"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_NDK</span></code></a>的值，并且NDK将被使用。</p></li>
<li><p>否则，如果设置了环境变量<code class="docutils literal notranslate"><span class="pre">ANDROID_STANDALONE_TOOLCHAIN</span></code>，那么它将被用作<span class="target" id="index-3-variable:CMAKE_ANDROID_STANDALONE_TOOLCHAIN"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_STANDALONE_TOOLCHAIN.html#variable:CMAKE_ANDROID_STANDALONE_TOOLCHAIN" title="CMAKE_ANDROID_STANDALONE_TOOLCHAIN"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_STANDALONE_TOOLCHAIN</span></code></a>的值，并且将使用独立工具链。</p></li>
<li><p>否则，将发出错误诊断，NDK或独立工具链都无法找到。</p></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">在 3.20 版本加入: </span>如果选择了Android NDK，则会在<span class="target" id="index-0-variable:CMAKE_ANDROID_NDK_VERSION"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_NDK_VERSION.html#variable:CMAKE_ANDROID_NDK_VERSION" title="CMAKE_ANDROID_NDK_VERSION"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_NDK_VERSION</span></code></a>变量中报告其版本号。</p>
</div>
<section id="ndkandroid">
<span id="cross-compiling-for-android-with-the-ndk"></span><h4><a class="toc-backref" href="#id26" role="doc-backlink">使用NDK交叉编译Android</a><a class="headerlink" href="#ndkandroid" title="Link to this heading">¶</a></h4>
<p>工具链文件可以配置<a class="reference internal" href="cmake-generators.7.html#makefile-generators"><span class="std std-ref">Makefile生成器</span></a>、<a class="reference internal" href="cmake-generators.7.html#ninja-generators"><span class="std std-ref">Ninja生成器</span></a>或<a class="reference internal" href="cmake-generators.7.html#visual-studio-generators"><span class="std std-ref">Visual Studio生成器</span></a>来针对Android进行交叉编译。</p>
<p>使用以下变量配置Android NDK的使用：</p>
<dl class="simple">
<dt><span class="target" id="index-5-variable:CMAKE_SYSTEM_NAME"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_NAME.html#variable:CMAKE_SYSTEM_NAME" title="CMAKE_SYSTEM_NAME"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_NAME</span></code></a></dt><dd><p>设置为<code class="docutils literal notranslate"><span class="pre">Android</span></code>。必须指定以启用Android的交叉编译。</p>
</dd>
<dt><span class="target" id="index-2-variable:CMAKE_SYSTEM_VERSION"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_VERSION.html#variable:CMAKE_SYSTEM_VERSION" title="CMAKE_SYSTEM_VERSION"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_VERSION</span></code></a></dt><dd><p>设置为Android API级别。如果不指定，则确定值如下：</p>
<ul class="simple">
<li><p>如果设置了<span class="target" id="index-0-variable:CMAKE_ANDROID_API"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_API.html#variable:CMAKE_ANDROID_API" title="CMAKE_ANDROID_API"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_API</span></code></a>变量，则使用其值作为API级别。</p></li>
<li><p>如果设置了<span class="target" id="index-3-variable:CMAKE_SYSROOT"></span><a class="reference internal" href="../variable/CMAKE_SYSROOT.html#variable:CMAKE_SYSROOT" title="CMAKE_SYSROOT"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSROOT</span></code></a>变量，则从包含sysroot的NDK目录结构中检测API级别。</p></li>
<li><p>否则，将使用NDK中可用的最新API级别。</p></li>
</ul>
</dd>
<dt><span class="target" id="index-0-variable:CMAKE_ANDROID_ARCH_ABI"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_ARCH_ABI.html#variable:CMAKE_ANDROID_ARCH_ABI" title="CMAKE_ANDROID_ARCH_ABI"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_ARCH_ABI</span></code></a></dt><dd><p>设置为Android ABI（架构）。如果未指定，该变量将默认为<code class="docutils literal notranslate"><span class="pre">armeabi</span></code>、<code class="docutils literal notranslate"><span class="pre">armeabi-v7a</span></code>和<code class="docutils literal notranslate"><span class="pre">arm64-v8a</span></code>列表中第一个支持的ABI。<span class="target" id="index-0-variable:CMAKE_ANDROID_ARCH"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_ARCH.html#variable:CMAKE_ANDROID_ARCH" title="CMAKE_ANDROID_ARCH"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_ARCH</span></code></a>变量将从<code class="docutils literal notranslate"><span class="pre">CMAKE_ANDROID_ARCH_ABI</span></code>自动计算。也请参阅<span class="target" id="index-0-variable:CMAKE_ANDROID_ARM_MODE"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_ARM_MODE.html#variable:CMAKE_ANDROID_ARM_MODE" title="CMAKE_ANDROID_ARM_MODE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_ARM_MODE</span></code></a>和<span class="target" id="index-0-variable:CMAKE_ANDROID_ARM_NEON"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_ARM_NEON.html#variable:CMAKE_ANDROID_ARM_NEON" title="CMAKE_ANDROID_ARM_NEON"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_ARM_NEON</span></code></a>变量。</p>
</dd>
<dt><span class="target" id="index-4-variable:CMAKE_ANDROID_NDK"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_NDK.html#variable:CMAKE_ANDROID_NDK" title="CMAKE_ANDROID_NDK"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_NDK</span></code></a></dt><dd><p>设置为Android NDK根目录的绝对路径。如果未指定，则如<a class="reference internal" href="#cross-compiling-for-android"><span class="std std-ref">上</span></a>所述选择此变量的默认值。</p>
</dd>
<dt><span class="target" id="index-0-variable:CMAKE_ANDROID_NDK_DEPRECATED_HEADERS"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_NDK_DEPRECATED_HEADERS.html#variable:CMAKE_ANDROID_NDK_DEPRECATED_HEADERS" title="CMAKE_ANDROID_NDK_DEPRECATED_HEADERS"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_NDK_DEPRECATED_HEADERS</span></code></a></dt><dd><p>设置为true值以使用已弃用的每个api级别的标头而不是统一的标头。如果未指定，默认值将为false，除非使用不提供统一头文件的NDK。</p>
</dd>
<dt><span class="target" id="index-0-variable:CMAKE_ANDROID_NDK_TOOLCHAIN_VERSION"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_NDK_TOOLCHAIN_VERSION.html#variable:CMAKE_ANDROID_NDK_TOOLCHAIN_VERSION" title="CMAKE_ANDROID_NDK_TOOLCHAIN_VERSION"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_NDK_TOOLCHAIN_VERSION</span></code></a></dt><dd><p>在NDK r19或更高版本上，这个变量必须取消设置或设置为<code class="docutils literal notranslate"><span class="pre">clang</span></code>。在NDK r18或以下版本上，将此设置为要选择作为编译器的NDK工具链的版本。如果未指定，则默认为最新可用的GCC工具链。</p>
</dd>
<dt><span class="target" id="index-0-variable:CMAKE_ANDROID_STL_TYPE"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_STL_TYPE.html#variable:CMAKE_ANDROID_STL_TYPE" title="CMAKE_ANDROID_STL_TYPE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_STL_TYPE</span></code></a></dt><dd><p>设置为指定要使用的C++标准库。如果未指定，将按照变量文档中的描述选择默认值。</p>
</dd>
</dl>
<p>以下变量将自动计算并提供：</p>
<dl class="simple">
<dt><span class="target" id="index-0-variable:CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_PREFIX"></span><a class="reference internal" href="../variable/CMAKE_LANG_ANDROID_TOOLCHAIN_PREFIX.html#variable:CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_PREFIX" title="CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_PREFIX"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_PREFIX</span></code></a></dt><dd><p>NDK工具链中binutils的绝对路径前缀。</p>
</dd>
<dt><span class="target" id="index-0-variable:CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_SUFFIX"></span><a class="reference internal" href="../variable/CMAKE_LANG_ANDROID_TOOLCHAIN_SUFFIX.html#variable:CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_SUFFIX" title="CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_SUFFIX"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_SUFFIX</span></code></a></dt><dd><p>NDK工具链中binutils的主机平台后缀。</p>
</dd>
</dl>
<p>例如，一个工具链文件可能包含：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span><span class="no">CMAKE_SYSTEM_NAME</span><span class="w"> </span><span class="nb">Android</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_SYSTEM_VERSION</span><span class="w"> </span><span class="m">21</span><span class="nf">)</span><span class="w"> </span><span class="c"># API level</span>
<span class="nf">set(</span><span class="no">CMAKE_ANDROID_ARCH_ABI</span><span class="w"> </span><span class="nb">arm64-v8a</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_ANDROID_NDK</span><span class="w"> </span><span class="na">/path/to/android-ndk</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_ANDROID_STL_TYPE</span><span class="w"> </span><span class="nb">gnustl_static</span><span class="nf">)</span>
</pre></div>
</div>
<p>或者可以不使用工具链文件指定值：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cmake<span class="w"> </span>../src<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-DCMAKE_SYSTEM_NAME<span class="o">=</span>Android<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-DCMAKE_SYSTEM_VERSION<span class="o">=</span><span class="m">21</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-DCMAKE_ANDROID_ARCH_ABI<span class="o">=</span>arm64-v8a<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-DCMAKE_ANDROID_NDK<span class="o">=</span>/path/to/android-ndk<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-DCMAKE_ANDROID_STL_TYPE<span class="o">=</span>gnustl_static
</pre></div>
</div>
</section>
<section id="cross-compiling-for-android-with-a-standalone-toolchain">
<span id="id7"></span><h4><a class="toc-backref" href="#id27" role="doc-backlink">使用单独工具链交叉编译Android</a><a class="headerlink" href="#cross-compiling-for-android-with-a-standalone-toolchain" title="Link to this heading">¶</a></h4>
<p>工具链文件可以配置<a class="reference internal" href="cmake-generators.7.html#makefile-generators"><span class="std std-ref">Makefile生成器</span></a>或<span class="target" id="index-1-generator:Ninja"></span><a class="reference internal" href="../generator/Ninja.html#generator:Ninja" title="Ninja"><code class="xref cmake cmake-generator docutils literal notranslate"><span class="pre">Ninja</span></code></a>生成器，以Android为目标，使用独立的工具链进行交叉编译。</p>
<p>使用以下变量配置Android独立工具链：</p>
<dl class="simple">
<dt><span class="target" id="index-6-variable:CMAKE_SYSTEM_NAME"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_NAME.html#variable:CMAKE_SYSTEM_NAME" title="CMAKE_SYSTEM_NAME"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_NAME</span></code></a></dt><dd><p>设置为<code class="docutils literal notranslate"><span class="pre">Android</span></code>。必须指定以启用Android的交叉编译。</p>
</dd>
<dt><span class="target" id="index-4-variable:CMAKE_ANDROID_STANDALONE_TOOLCHAIN"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_STANDALONE_TOOLCHAIN.html#variable:CMAKE_ANDROID_STANDALONE_TOOLCHAIN" title="CMAKE_ANDROID_STANDALONE_TOOLCHAIN"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_STANDALONE_TOOLCHAIN</span></code></a></dt><dd><p>设置为独立工具链根目录的绝对路径。必须存在<code class="docutils literal notranslate"><span class="pre">${CMAKE_ANDROID_STANDALONE_TOOLCHAIN}/sysroot</span></code>目录。如果未指定，则如<a class="reference internal" href="#cross-compiling-for-android"><span class="std std-ref">上</span></a>所述选择此变量的默认值。</p>
</dd>
<dt><span class="target" id="index-1-variable:CMAKE_ANDROID_ARM_MODE"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_ARM_MODE.html#variable:CMAKE_ANDROID_ARM_MODE" title="CMAKE_ANDROID_ARM_MODE"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_ARM_MODE</span></code></a></dt><dd><p>当独立工具链以ARM为目标时，可选择将此设置为<code class="docutils literal notranslate"><span class="pre">ON</span></code>以瞄准32位ARM而不是16位Thumb。有关详细信息，请参阅变量文档。</p>
</dd>
<dt><span class="target" id="index-1-variable:CMAKE_ANDROID_ARM_NEON"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_ARM_NEON.html#variable:CMAKE_ANDROID_ARM_NEON" title="CMAKE_ANDROID_ARM_NEON"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_ARM_NEON</span></code></a></dt><dd><p>当独立工具链针对ARM v7时，可选择将这里设置为<code class="docutils literal notranslate"><span class="pre">ON</span></code>以针对ARM NEON设备。有关详细信息，请参阅变量文档。</p>
</dd>
</dl>
<p>以下变量将自动计算并提供：</p>
<dl class="simple">
<dt><span class="target" id="index-3-variable:CMAKE_SYSTEM_VERSION"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_VERSION.html#variable:CMAKE_SYSTEM_VERSION" title="CMAKE_SYSTEM_VERSION"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_VERSION</span></code></a></dt><dd><p>从独立工具链中检测到的Android API级别。</p>
</dd>
<dt><span class="target" id="index-1-variable:CMAKE_ANDROID_ARCH_ABI"></span><a class="reference internal" href="../variable/CMAKE_ANDROID_ARCH_ABI.html#variable:CMAKE_ANDROID_ARCH_ABI" title="CMAKE_ANDROID_ARCH_ABI"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_ANDROID_ARCH_ABI</span></code></a></dt><dd><p>从独立工具链中检测到的Android ABI。</p>
</dd>
<dt><span class="target" id="index-1-variable:CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_PREFIX"></span><a class="reference internal" href="../variable/CMAKE_LANG_ANDROID_TOOLCHAIN_PREFIX.html#variable:CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_PREFIX" title="CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_PREFIX"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_PREFIX</span></code></a></dt><dd><p>独立工具链中<code class="docutils literal notranslate"><span class="pre">binutils</span></code>的绝对路径前缀。</p>
</dd>
<dt><span class="target" id="index-1-variable:CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_SUFFIX"></span><a class="reference internal" href="../variable/CMAKE_LANG_ANDROID_TOOLCHAIN_SUFFIX.html#variable:CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_SUFFIX" title="CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_SUFFIX"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_ANDROID_TOOLCHAIN_SUFFIX</span></code></a></dt><dd><p>独立工具链中<code class="docutils literal notranslate"><span class="pre">binutils</span></code>的主机平台后缀。</p>
</dd>
</dl>
<p>例如，一个工具链文件可能包含：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span><span class="no">CMAKE_SYSTEM_NAME</span><span class="w"> </span><span class="nb">Android</span><span class="nf">)</span>
<span class="nf">set(</span><span class="no">CMAKE_ANDROID_STANDALONE_TOOLCHAIN</span><span class="w"> </span><span class="na">/path/to/android-toolchain</span><span class="nf">)</span>
</pre></div>
</div>
<p>或者可以不使用工具链文件指定值：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cmake<span class="w"> </span>../src<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-DCMAKE_SYSTEM_NAME<span class="o">=</span>Android<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-DCMAKE_ANDROID_STANDALONE_TOOLCHAIN<span class="o">=</span>/path/to/android-toolchain
</pre></div>
</div>
</section>
<section id="nvidia-nsight-tegra-visual-studioandroid">
<span id="cross-compiling-for-android-with-nvidia-nsight-tegra-visual-studio-edition"></span><h4><a class="toc-backref" href="#id28" role="doc-backlink">使用NVIDIA Nsight Tegra Visual Studio版本交叉编译Android</a><a class="headerlink" href="#nvidia-nsight-tegra-visual-studioandroid" title="Link to this heading">¶</a></h4>
<p>一个工具链文件，用来配置一个<a class="reference internal" href="cmake-generators.7.html#visual-studio-generators"><span class="std std-ref">Visual Studio生成器</span></a>，使用NVIDIA Nsight Tegra针对Android构建，可能是这样的：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span><span class="no">CMAKE_SYSTEM_NAME</span><span class="w"> </span><span class="nb">Android</span><span class="nf">)</span>
</pre></div>
</div>
<p><span class="target" id="index-1-variable:CMAKE_GENERATOR_TOOLSET"></span><a class="reference internal" href="../variable/CMAKE_GENERATOR_TOOLSET.html#variable:CMAKE_GENERATOR_TOOLSET" title="CMAKE_GENERATOR_TOOLSET"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_GENERATOR_TOOLSET</span></code></a>可以设置为选择Nsight Tegra的“工具链版本”值。</p>
<p>参见目标属性：</p>
<ul class="simple">
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_ANT_ADDITIONAL_OPTIONS"></span><a class="reference internal" href="../prop_tgt/ANDROID_ANT_ADDITIONAL_OPTIONS.html#prop_tgt:ANDROID_ANT_ADDITIONAL_OPTIONS" title="ANDROID_ANT_ADDITIONAL_OPTIONS"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_ANT_ADDITIONAL_OPTIONS</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_API_MIN"></span><a class="reference internal" href="../prop_tgt/ANDROID_API_MIN.html#prop_tgt:ANDROID_API_MIN" title="ANDROID_API_MIN"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_API_MIN</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_API"></span><a class="reference internal" href="../prop_tgt/ANDROID_API.html#prop_tgt:ANDROID_API" title="ANDROID_API"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_API</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_ARCH"></span><a class="reference internal" href="../prop_tgt/ANDROID_ARCH.html#prop_tgt:ANDROID_ARCH" title="ANDROID_ARCH"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_ARCH</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_ASSETS_DIRECTORIES"></span><a class="reference internal" href="../prop_tgt/ANDROID_ASSETS_DIRECTORIES.html#prop_tgt:ANDROID_ASSETS_DIRECTORIES" title="ANDROID_ASSETS_DIRECTORIES"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_ASSETS_DIRECTORIES</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_GUI"></span><a class="reference internal" href="../prop_tgt/ANDROID_GUI.html#prop_tgt:ANDROID_GUI" title="ANDROID_GUI"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_GUI</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_JAR_DEPENDENCIES"></span><a class="reference internal" href="../prop_tgt/ANDROID_JAR_DEPENDENCIES.html#prop_tgt:ANDROID_JAR_DEPENDENCIES" title="ANDROID_JAR_DEPENDENCIES"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_JAR_DEPENDENCIES</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_JAR_DIRECTORIES"></span><a class="reference internal" href="../prop_tgt/ANDROID_JAR_DIRECTORIES.html#prop_tgt:ANDROID_JAR_DIRECTORIES" title="ANDROID_JAR_DIRECTORIES"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_JAR_DIRECTORIES</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_JAVA_SOURCE_DIR"></span><a class="reference internal" href="../prop_tgt/ANDROID_JAVA_SOURCE_DIR.html#prop_tgt:ANDROID_JAVA_SOURCE_DIR" title="ANDROID_JAVA_SOURCE_DIR"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_JAVA_SOURCE_DIR</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_NATIVE_LIB_DEPENDENCIES"></span><a class="reference internal" href="../prop_tgt/ANDROID_NATIVE_LIB_DEPENDENCIES.html#prop_tgt:ANDROID_NATIVE_LIB_DEPENDENCIES" title="ANDROID_NATIVE_LIB_DEPENDENCIES"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_NATIVE_LIB_DEPENDENCIES</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_NATIVE_LIB_DIRECTORIES"></span><a class="reference internal" href="../prop_tgt/ANDROID_NATIVE_LIB_DIRECTORIES.html#prop_tgt:ANDROID_NATIVE_LIB_DIRECTORIES" title="ANDROID_NATIVE_LIB_DIRECTORIES"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_NATIVE_LIB_DIRECTORIES</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_PROCESS_MAX"></span><a class="reference internal" href="../prop_tgt/ANDROID_PROCESS_MAX.html#prop_tgt:ANDROID_PROCESS_MAX" title="ANDROID_PROCESS_MAX"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_PROCESS_MAX</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_PROGUARD_CONFIG_PATH"></span><a class="reference internal" href="../prop_tgt/ANDROID_PROGUARD_CONFIG_PATH.html#prop_tgt:ANDROID_PROGUARD_CONFIG_PATH" title="ANDROID_PROGUARD_CONFIG_PATH"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_PROGUARD_CONFIG_PATH</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_PROGUARD"></span><a class="reference internal" href="../prop_tgt/ANDROID_PROGUARD.html#prop_tgt:ANDROID_PROGUARD" title="ANDROID_PROGUARD"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_PROGUARD</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_SECURE_PROPS_PATH"></span><a class="reference internal" href="../prop_tgt/ANDROID_SECURE_PROPS_PATH.html#prop_tgt:ANDROID_SECURE_PROPS_PATH" title="ANDROID_SECURE_PROPS_PATH"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_SECURE_PROPS_PATH</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_SKIP_ANT_STEP"></span><a class="reference internal" href="../prop_tgt/ANDROID_SKIP_ANT_STEP.html#prop_tgt:ANDROID_SKIP_ANT_STEP" title="ANDROID_SKIP_ANT_STEP"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_SKIP_ANT_STEP</span></code></a></p></li>
<li><p><span class="target" id="index-0-prop_tgt:ANDROID_STL_TYPE"></span><a class="reference internal" href="../prop_tgt/ANDROID_STL_TYPE.html#prop_tgt:ANDROID_STL_TYPE" title="ANDROID_STL_TYPE"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">ANDROID_STL_TYPE</span></code></a></p></li>
</ul>
</section>
</section>
<section id="iostvosvisionoswatchos">
<span id="cross-compiling-for-ios-tvos-visionos-or-watchos"></span><h3><a class="toc-backref" href="#id29" role="doc-backlink">交叉编译iOS、tvOS、visionOS或watchOS</a><a class="headerlink" href="#iostvosvisionoswatchos" title="Link to this heading">¶</a></h3>
<p>对于交叉编译到iOS、tvOS、visionOS或watchOS，建议使用<span class="target" id="index-0-generator:Xcode"></span><a class="reference internal" href="../generator/Xcode.html#generator:Xcode" title="Xcode"><code class="xref cmake cmake-generator docutils literal notranslate"><span class="pre">Xcode</span></code></a>生成器。也可以使用<span class="target" id="index-0-generator:Unix Makefiles"></span><a class="reference internal" href="../generator/Unix%20Makefiles.html#generator:Unix Makefiles" title="Unix Makefiles"><code class="xref cmake cmake-generator docutils literal notranslate"><span class="pre">Unix</span> <span class="pre">Makefiles</span></code></a>或<span class="target" id="index-2-generator:Ninja"></span><a class="reference internal" href="../generator/Ninja.html#generator:Ninja" title="Ninja"><code class="xref cmake cmake-generator docutils literal notranslate"><span class="pre">Ninja</span></code></a>生成器，但它们要求项目处理更多的领域，如目标CPU选择和代码签名。</p>
<p>通过将<span class="target" id="index-7-variable:CMAKE_SYSTEM_NAME"></span><a class="reference internal" href="../variable/CMAKE_SYSTEM_NAME.html#variable:CMAKE_SYSTEM_NAME" title="CMAKE_SYSTEM_NAME"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_SYSTEM_NAME</span></code></a>变量设置为下表中的值，可以将任何苹果设备平台作为目标。默认情况下，选择最新的Device SDK。对于所有的Apple平台，可以通过设置<span class="target" id="index-0-variable:CMAKE_OSX_SYSROOT"></span><a class="reference internal" href="../variable/CMAKE_OSX_SYSROOT.html#variable:CMAKE_OSX_SYSROOT" title="CMAKE_OSX_SYSROOT"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_OSX_SYSROOT</span></code></a>变量来选择不同的SDK（例如模拟器），尽管这很少是必要的（参见下面的<a class="reference internal" href="#switching-between-device-and-simulator"><span class="std std-ref">在设备和模拟器之间切换</span></a>）。一个可用SDK的列表可以通过运行<code class="docutils literal notranslate"><span class="pre">xcodebuild</span> <span class="pre">-showsdks</span></code>获得。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>OS</p></th>
<th class="head"><p>CMAKE_SYSTEM_NAME</p></th>
<th class="head"><p>Device SDK (default)</p></th>
<th class="head"><p>Simulator SDK</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>iOS</p></td>
<td><p>iOS</p></td>
<td><p>iphoneos</p></td>
<td><p>iphonesimulator</p></td>
</tr>
<tr class="row-odd"><td><p>tvOS</p></td>
<td><p>tvOS</p></td>
<td><p>appletvos</p></td>
<td><p>appletvsimulator</p></td>
</tr>
<tr class="row-even"><td><p>visionOS</p></td>
<td><p>visionOS</p></td>
<td><p>xros</p></td>
<td><p>xrsimulator</p></td>
</tr>
<tr class="row-odd"><td><p>watchOS</p></td>
<td><p>watchOS</p></td>
<td><p>watchos</p></td>
<td><p>watchsimulator</p></td>
</tr>
</tbody>
</table>
<p>例如，要为iOS创建CMake配置，以下命令就足够了：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cmake .. -GXcode -DCMAKE_SYSTEM_NAME=iOS</span>
</pre></div>
</div>
<p>变量<span class="target" id="index-0-variable:CMAKE_OSX_ARCHITECTURES"></span><a class="reference internal" href="../variable/CMAKE_OSX_ARCHITECTURES.html#variable:CMAKE_OSX_ARCHITECTURES" title="CMAKE_OSX_ARCHITECTURES"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_OSX_ARCHITECTURES</span></code></a>可用于设置设备和模拟器的体系结构。变量<span class="target" id="index-0-variable:CMAKE_OSX_DEPLOYMENT_TARGET"></span><a class="reference internal" href="../variable/CMAKE_OSX_DEPLOYMENT_TARGET.html#variable:CMAKE_OSX_DEPLOYMENT_TARGET" title="CMAKE_OSX_DEPLOYMENT_TARGET"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_OSX_DEPLOYMENT_TARGET</span></code></a>用于设置iOS/tvOS/visionOS/watchOS的部署目标。</p>
<p>下一个示例将在一个iOS库的通用二进制文件中安装五个体系结构。它在适当的地方添加了相关的<code class="docutils literal notranslate"><span class="pre">-miphoneos-version-min=9.3</span></code>或<code class="docutils literal notranslate"><span class="pre">-mios-simulator-version-min=9.3</span></code>编译器标志。注意，示例中使用的<span class="target" id="index-0-variable:CMAKE_IOS_INSTALL_COMBINED"></span><a class="reference internal" href="../variable/CMAKE_IOS_INSTALL_COMBINED.html#variable:CMAKE_IOS_INSTALL_COMBINED" title="CMAKE_IOS_INSTALL_COMBINED"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_IOS_INSTALL_COMBINED</span></code></a>变量现在已弃用，因此不再推荐使用这种方法。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cmake<span class="w"> </span>-S.<span class="w"> </span>-B_builds<span class="w"> </span>-GXcode<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DCMAKE_SYSTEM_NAME<span class="o">=</span>iOS<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="s2">&quot;-DCMAKE_OSX_ARCHITECTURES=armv7;armv7s;arm64;i386;x86_64&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DCMAKE_OSX_DEPLOYMENT_TARGET<span class="o">=</span><span class="m">9</span>.3<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DCMAKE_INSTALL_PREFIX<span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/_install<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DCMAKE_XCODE_ATTRIBUTE_ONLY_ACTIVE_ARCH<span class="o">=</span>NO<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DCMAKE_IOS_INSTALL_COMBINED<span class="o">=</span>YES
</pre></div>
</div>
<p>例子：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># CMakeLists.txt</span>
<span class="nf">cmake_minimum_required(</span><span class="no">VERSION</span><span class="w"> </span><span class="m">3.14</span><span class="nf">)</span>
<span class="nf">project(</span><span class="nb">foo</span><span class="nf">)</span>
<span class="nf">add_library(</span><span class="nb">foo</span><span class="w"> </span><span class="nb">foo.cpp</span><span class="nf">)</span>
<span class="nf">install(</span><span class="no">TARGETS</span><span class="w"> </span><span class="nb">foo</span><span class="w"> </span><span class="no">DESTINATION</span><span class="w"> </span><span class="nb">lib</span><span class="nf">)</span>
</pre></div>
</div>
<p>安装：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cmake<span class="w"> </span>--build<span class="w"> </span>_builds<span class="w"> </span>--config<span class="w"> </span>Release<span class="w"> </span>--target<span class="w"> </span>install
</pre></div>
</div>
<p>检查库：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lipo<span class="w"> </span>-info<span class="w"> </span>_install/lib/libfoo.a
<span class="go">Architectures in the fat file: _install/lib/libfoo.a are: i386 armv7 armv7s x86_64 arm64</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>otool<span class="w"> </span>-l<span class="w"> </span>_install/lib/libfoo.a<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-A2<span class="w"> </span>LC_VERSION_MIN_IPHONEOS
<span class="go">      cmd LC_VERSION_MIN_IPHONEOS</span>
<span class="go">  cmdsize 16</span>
<span class="go">  version 9.3</span>
</pre></div>
</div>
<section id="id8">
<h4><a class="toc-backref" href="#id30" role="doc-backlink">代码签名</a><a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<p>嵌入式Apple平台的一些构建构件需要强制代码签名。如果正在使用<span class="target" id="index-1-generator:Xcode"></span><a class="reference internal" href="../generator/Xcode.html#generator:Xcode" title="Xcode"><code class="xref cmake cmake-generator docutils literal notranslate"><span class="pre">Xcode</span></code></a>生成器，并且需要或希望代码签名，则可以通过<code class="docutils literal notranslate"><span class="pre">CMAKE_XCODE_ATTRIBUTE_DEVELOPMENT_TEAM</span></code> CMake变量指定开发团队ID。这个团队ID将被包含在生成的Xcode项目中。默认情况下，CMake在内部配置阶段（即编译器ID和特性检测）避免了代码签名的需要。</p>
</section>
<section id="switching-between-device-and-simulator">
<span id="id9"></span><h4><a class="toc-backref" href="#id31" role="doc-backlink">在设备和模拟器之间切换</a><a class="headerlink" href="#switching-between-device-and-simulator" title="Link to this heading">¶</a></h4>
<p>在为任何嵌入式平台配置时，可以针对实际设备或模拟器进行配置。两者都有自己独立的SDK，但CMake只支持在配置阶段指定单个SDK。这意味着开发人员必须在配置时选择其中一个。当使用<span class="target" id="index-2-generator:Xcode"></span><a class="reference internal" href="../generator/Xcode.html#generator:Xcode" title="Xcode"><code class="xref cmake cmake-generator docutils literal notranslate"><span class="pre">Xcode</span></code></a>生成器时，这不是一个限制，因为Xcode仍然允许你为设备或模拟器构建，即使配置只对两者中的一个执行。在Xcode IDE中，为选定的“目标”平台执行构建。当从命令行构建时，可以通过向底层构建工具（<code class="docutils literal notranslate"><span class="pre">xcodebuild</span></code>）传递<code class="docutils literal notranslate"><span class="pre">-sdk</span></code>选项来直接指定所需的sdk。例如：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cmake<span class="w"> </span>--build<span class="w"> </span>...<span class="w"> </span>--<span class="w"> </span>-sdk<span class="w"> </span>iphonesimulator
</pre></div>
</div>
<p>请注意，配置期间所做的检查是针对配置时SDK执行的，可能不适用于其他SDK。<span class="target" id="index-0-command:find_package"></span><a class="reference internal" href="../command/find_package.html#command:find_package" title="find_package"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">find_package()</span></code></a>、<span class="target" id="index-0-command:find_library"></span><a class="reference internal" href="../command/find_library.html#command:find_library" title="find_library"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">find_library()</span></code></a>等命令只存储和使用配置的SDK/平台的详细信息，所以如果想在设备和模拟器构建之间切换，它们可能会出现问题。你可以遵循以下规则使设备+模拟器配置工作：</p>
<ul class="simple">
<li><p>使用明确的<code class="docutils literal notranslate"><span class="pre">-l</span></code>链接器标志，例如<code class="docutils literal notranslate"><span class="pre">target_link_libraries(foo</span> <span class="pre">PUBLIC</span> <span class="pre">&quot;-lz&quot;)</span></code></p></li>
<li><p>使用显式的<code class="docutils literal notranslate"><span class="pre">-framework</span></code>链接器标志，例如<code class="docutils literal notranslate"><span class="pre">target_link_libraries(foo</span> <span class="pre">PUBLIC</span> <span class="pre">&quot;-framework</span> <span class="pre">CoreFoundation&quot;)</span></code></p></li>
<li><p><span class="target" id="index-1-command:find_package"></span><a class="reference internal" href="../command/find_package.html#command:find_package" title="find_package"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">find_package()</span></code></a>仅用于安装了<span class="target" id="index-1-variable:CMAKE_IOS_INSTALL_COMBINED"></span><a class="reference internal" href="../variable/CMAKE_IOS_INSTALL_COMBINED.html#variable:CMAKE_IOS_INSTALL_COMBINED" title="CMAKE_IOS_INSTALL_COMBINED"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_IOS_INSTALL_COMBINED</span></code></a>特性的库</p></li>
</ul>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">cmake-toolchains(7)</a><ul>
<li><a class="reference internal" href="#id2">引言</a></li>
<li><a class="reference internal" href="#id3">语言</a></li>
<li><a class="reference internal" href="#id4">变量和属性</a></li>
<li><a class="reference internal" href="#id5">工具链特性</a></li>
<li><a class="reference internal" href="#cross-compiling-toolchain">交叉编译</a><ul>
<li><a class="reference internal" href="#linux">Linux交叉编译</a></li>
<li><a class="reference internal" href="#cray-linux">Cray Linux环境交叉编译</a></li>
<li><a class="reference internal" href="#clang">使用Clang交叉编译</a></li>
<li><a class="reference internal" href="#qnx">QNX交叉编译</a></li>
<li><a class="reference internal" href="#windows-ce">Windows CE交叉编译</a></li>
<li><a class="reference internal" href="#windows-10">Windows 10通用应用交叉编译</a></li>
<li><a class="reference internal" href="#windows-phone">Windows Phone交叉编译</a></li>
<li><a class="reference internal" href="#windows-store">Windows Store交叉编译</a></li>
<li><a class="reference internal" href="#adsp-sharc-blackfin">ADSP SHARC/Blackfin交叉编译</a></li>
<li><a class="reference internal" href="#android">Android交叉编译</a><ul>
<li><a class="reference internal" href="#ndkandroid">使用NDK交叉编译Android</a></li>
<li><a class="reference internal" href="#cross-compiling-for-android-with-a-standalone-toolchain">使用单独工具链交叉编译Android</a></li>
<li><a class="reference internal" href="#nvidia-nsight-tegra-visual-studioandroid">使用NVIDIA Nsight Tegra Visual Studio版本交叉编译Android</a></li>
</ul>
</li>
<li><a class="reference internal" href="#iostvosvisionoswatchos">交叉编译iOS、tvOS、visionOS或watchOS</a><ul>
<li><a class="reference internal" href="#id8">代码签名</a></li>
<li><a class="reference internal" href="#switching-between-device-and-simulator">在设备和模拟器之间切换</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一主题</h4>
    <p class="topless"><a href="cmake-server.7.html"
                          title="上一章">cmake-server(7)</a></p>
  </div>
  <div>
    <h4>下一主题</h4>
    <p class="topless"><a href="cmake-variables.7.html"
                          title="下一章">cmake-variables(7)</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/manual/cmake-toolchains.7.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="提交" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             >索引</a></li>
        <li class="right" >
          <a href="cmake-variables.7.html" title="cmake-variables(7)"
             >下一页</a> |</li>
        <li class="right" >
          <a href="cmake-server.7.html" title="cmake-server(7)"
             >上一页</a> |</li>
  <li>
    <img src="../_static/cmake-logo-16.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="https://cmake.org/">CMake</a> &#187;
  </li>
  <li>
    <a href="../index.html">3.29.1-g21d0c57 Documentation</a> &#187;
  </li>

        <li class="nav-item nav-item-this"><a href="">cmake-toolchains(7)</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
    &#169; 版权所有 2000-2024 Kitware, Inc. and Contributors.
      由 <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6创建。
    </div>
  </body>
</html>